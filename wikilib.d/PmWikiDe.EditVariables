version=pmwiki-2.3.23 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=$EditFunctions: See InsertEditFunction() (+43)
ctime=1303300973
name=PmWikiDe.EditVariables
rev=37
targets=PmWikiDe.Functions,PmWikiDe.EditVariables,Cookbook.NotSavedWarning,Cookbook.EditHelp,PmWikiDe.GroupCustomizations,Cookbook.EditTemplates,PmWikiDe.SecurityVariables,PmWikiDe.Drafts,Cookbook.GuiButtons,Cookbook.FixURL,Cookbook.PreviewChanges,PmWikiDe.IncludeOtherPages,PmWikiDe.PageTextVariables,PmWikiDe.BlockMarkup,PmWikiDe.BasicVariables,Cookbook.ROSPatterns,Category.PmWikiDeveloper,!PmWikiDeveloper
text=(:title Die Bearbeiten-Variablen:)%0a(:Summary: Beschreibung der Variablen, die das Bearbeiten beinflussen.:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2012-07-06:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren:)%0a%0a%0aZum Setzen der meisten der unten aufgeführten Variablen tragen Sie sie in die @@config.php@@-Datei ein.%0a%0a:$EnableReadOnly: Setzen Sie diese Variable auf 1, um Bearbeiten zu verhindern. Beachten Sie, dass das nicht automatisch Änderungen am Wiki durch Rezepte verhindert, es sei denn, sie nutzen die [[Functions#Lock|Kernfunktion Lock()]] korrekt.%0a: : %25hlt php%25@@ $EnableReadOnly = 1; # deaktiviere Änderungen@@%0a%0a:$EnableNotSavedWarning: Setzen Sie diese Variable auf 1, um Editor*innen davor zu warnen, dass sie die Bearbeitenseite, ohne die Änderungen zu speichern, verlassen. Das basiert auf dem Rezept Cookbook:NotSavedWarning. Per Voreinstellung ist die Warnung nicht aktiv. Wenn Sie sie aktivieren, deaktivieren Sie bitte alle Addons, die ein ähnliches Verhalten erzeugen, insbesondere ältere Versionen von Cookbook:NotSavedWarning.%0a: :%25hlt php%25 @@ $EnableNotSavedWarning = 0; @@ # deaktiviere die Warnung, Voreinstellung ist 1 (aktiviert, seit 2.3.0)%0a%0a:$EnableEditAutoText: Setzen Sie diese Variable auf 1, um das vorausschauende Bearbeiten wie automatisch eingefügte Listenpunkte zu aktivieren, siehe Cookbook:EditHelp. Per Voreinstellung ist das deaktiviert. Wenn Sie das aktivieren, deaktivieren Sie bitte alle Addons mit ähnlicher Funktionalität, insbesondere Cookbook:EditHelp.%0a: :%25hlt php%25 @@ $EnableEditAutoText = 1;@@%0a%0a:$EnableMergeLastMinorEdit: Wenn diese Variable auf 1 gesetzt ist ''und'' ein Autor hat einen Haken bei  $[This is a minor edit] gesetzt ''und'' die vorangegangene Bearbeitung ist durch den selben Autor erfolgt (gleicher Name, IP-Adresse, Browserversion), ''dann'' werden die vorangegangene Bearbeitung und die neue Bearbeitung als ein einziger Eintrag in den Versionen behandelt. Auf diese Weise kann ein Autor mehrere kleine Änderungen eine nach der anderen erledigen ohne mehrere einzelne Einträge in der Versionshistorie zu erzeugen.%0a: : %25hlt php%25@@ $EnableMergeLastMinorEdit = 1;@@%0a: : Um dies nur für eine begrenzte Zeit zwischen den Bearbeitungen zu erlauben, setzen Sie diese Variable auf die Anzahl der Sekunden. Wenn eine längere Zeit vergangen ist, wird wie üblich ein neuer Eintrag in den Versionen angelegt. %0a: : %25hlt php%25@@ $EnableMergeLastMinorEdit = 2*3600; # höchsten zwei Stunden zwischen den verbundenen Einträgen@@%0a: : Siehe auch $EnableDraftAtomicDiff.%0a%0a:$AutoCreate:wird in Verbindung mit der 'AutoCreateTargets edit'-Funktion benutzt, dies Array enthält einen Satz von Seiten, die erzeugt werden sollen, falls sie nicht existieren. Die Syntax ist:%25hlt php%25[@%0a    $AutoCreate[REGEXP] = PAGE_PARAMETERS;%0a@]wobei @@REGEXP@@ ein regulärer Ausdruck ist, der die automatisch zu erzeugenden Seiten identifiziert und @@PAGE_PARAMETERS@@ ein Array von Attributen für die neu zu erzeugenden Seiten ist. Zum Beispiel:%25hlt php%25[@%0a    $AutoCreate['/^Category\\./'] = array('ctime' => $Now);%0a@]erzeugt eine leere Seite mit der aktuellen Erstellungszeit für alle fehlenden Kategorien-Seiten.%0a%0a:$DefaultPageTextFmt:Der Text, der angezeigt werden soll, wenn eine Seite nicht gefunden wurde. PmWiki benutzt dazu den Inhalt der Seite Site.PageNotFound.%25hlt php%25[@%0a$DefaultPageTextFmt = '(:include $[{$SiteGroup}.PageNotFound]:)';@] %0a%0a:$DeleteKeyPattern:Das Muster, das verwendet wird, um zu löschende Seiten zu markieren. Der Standard ist, dass Seiten gelöscht werden, die nur das eine Wort "delete" und sonst höchstens Leerzeichen enthalten.%25hlt php%25[@%0a## ändere Löschenwort auf "remove":%0a$DeleteKeyPattern = "^\\s*remove\\s*$";%0a## lösche Seiten ohne sichtbaren Text, d. h. leere Seiten:%0a$DeleteKeyPattern = "^\\s*$";@]%0a%0a:$DiffKeepDays:Diese Variable setzt die minimale Zeitspanne fest, während der die Versionen von Änderungen aufbewahrt werden. Standard sind 3650 Tage, fast 10 Jahre. Sie können den Wert durch einen Eintrag in eine Anpassungsdatei (z.&nbsp;B. ''local/Gruppe.Seitenname.php'') verringern, z.&nbsp;B.:%25hlt php%25[@%0a    $DiffKeepDays = 30; # Revisionen wenigstens 30 Tage aufbewahren%0a@]Wollen Sie für eine Seite die Versionen der Änderungen ganz unterdrücken, fügen Sie in die Anpassungsdatei das Folgende ein:%25hlt php%25[@%0a    $DiffKeepDays = $DiffKeepNum = -1; # suppress revision history%0a@](%25note%25siehe auch %25%25[[GroupCustomizations#PerPage|Individuelle Anpassungen pro Seite]])%0a: :Beachten Sie, dass eine bestimmte Seitenrevision nicht gelöscht wird, bis die Seite nach der eingestellten Zeit wieder geändert wird. So ist es immer noch möglich, Seiten wiederherzustellen, deren Änderung länger zurückliegt als die eingestellte Zeitspanne, wenn sie nach dieser Zeit nicht mehr angerührt wurden. Die Änderungen werden bei der nächsten Änderung (z.&nbsp;B. bei eben diesem Wiederherstellen) gelöscht.%0a%0a:$DiffKeepNum:Diese Variable enthält die Mindestzahl an Änderungen, die in den Versionen aufgehoben werden, sogar wenn einige von ihnen älter sind als die eingestellte Grenze $DiffKeepDays. Das verhindert den Verlust von Änderungen auf Seiten, die lange bestehen, aber selten geändert wurden.%25hlt php%25[@%0a## Behalte wenigstens 50 Änderungen (Standard ist 20): %0a$DiffKeepNum = 50;%0a@]Um die Aufbewahrung der Änderungen mit [@$DiffKeepNum = -1@] zu unterdrücken, siehe $DiffKeepDays weiter oben.%0a%0a:$DraftActionsPattern:Die Aktionen, die es erlauben, die volle draft.php-Funktionalität für eigenen Aktionen zu laden. Voreingestellt ist 'edit'. Sie können Entwürfe auch für weitere Aktionen aktivieren:%25hlt php%25[@%0a## Aktiviere Entwürfe für die Aktionen 'edit', 'pmform' und 'translate':%0a$DraftActionsPattern = 'edit|pmform|translate';@] %0a%0a:$DraftSuffix:Der Anhang für die Entwurfsversion von Seiten (Standard ist "-Draft").%0a%0a:$EditFunctions:Dieses Array enthält die Sequenz der Funktionen, die aufgerufen werden, wenn eine Seite editiert wird. Es kann angepasst werden, um zusätzliche Funktionen einzufügen und diese zum Bestandteil des Veröffentlichungsprozesses zu machen. Die Standardeinstellung ist:%25hlt php%25[@%0a$EditFunctions = array('EditTemplate', 'RestorePage', 'ReplaceOnSave',%0a                       'SaveAttributes', 'PostPage', 'PostRecentChanges',%0a                       'AutoCreateTargets', 'PreviewPage'); %0a@]Viele Rezepte manipulieren dieses Array, deshalb wird empfohlen, statt das komplette Array neu zu definieren, [[Functions#InsertEditFunction|InsertEditFunction()]] mit Ihrem Funktionsnamen aufzurufen. Siehe auch [[Functions#UpdatePage|UpdatePage()]]. %0a%0a:$EditRedirectFmt:Die Seite, zu der ein Autor geführt wird, nachdem er den Speichern- oder Abbrechen-Button in dem Editierformular gedrückt hat, per Standard gesetzt auf "$Fullname", wodurch der Autor auf die gerade bearbeitete Seite geführt wird, aber das kann verändert werden, um eine andere Seite anzuzeigen. %25hlt php%25[@%0a## Umleiten zur Hauptstartseite Main.HomePage:%0a$EditRedirectFmt = 'Main.HomePage';  %0a## Umleiten zur Startseite der aktuellen Gruppe:%0a$EditRedirectFmt = '{$Group}.HomePage';@]%0a%0a:$EditTemplatesFmt:Name der Seite (oder ein Array von Namen), die als Vorlage benutzt wird (werden) für neu anzulegende Seiten.%25hlt php%25[@%0a## Benutze 'Main.NewPageTemplate' als Standardtext für alle neuen Seiten:%0a$EditTemplatesFmt = 'Main.NewPageTemplate';%0a## Benutze 'Template' in der aktuellen Gruppe als Vorlage:%0a$EditTemplatesFmt = '$Group.Template';%0a## Benutze 'Template' in der aktuellen Gruppe, wenn die Datei existiert,%0a## andernfalls benutze 'Main.NewPageTemplate':%0a$EditTemplatesFmt = array('$Group.Template', 'Main.NewPageTemplate');@]%0a-> Siehe [[Cookbook:EditTemplates]] für weitere Informationen.%0a%0a:$EnableDrafts:Wenn diese Variable auf '@@1@@' gesetzt wird, wird unterm 'Bearbeiten'-Fenster ein 'Als Entwurf speichern'-Button angezeigt und die eingebaute Handhabung von Entwürfen eingeschaltet, wobei%0a##erstmaliges 'Als Entwurf speichern' einer existierenden Seite ("SeitenName") die Änderungen in einer neuen Seite mit dem Namen ("SeitenName-Draft") speichert, %0a##nachfolgende Versuche, "SeitenName" zu bearbeiten, in der Bearbeitung von "SeitenName-Draft" münden,%0a##nachfolgendes 'Als Entwurf speichern' das Speichern der Änderungen in der Datei "SeitenName-Draft" bewirkt,%0a##erst der Button 'Veröffentlichen' das Speichern der Änderungen in der Datei "SeitenName" und das Löschen des Entwurfes "SeitenName-Draft" bewirkt,%0a##ein Aufruf der Seite ohne ''action=edit' die "alte" Seite anzeigt.%25hlt php%25[@%0a## Einschalten der Entwurfsversionen:%0a$EnableDrafts = 1;@]%0a: :Eine verwandte Variable, $EnablePublishAttr, fügt eine neue Ebene zum Autorisieren der Veröffentlichung ein, um eine Unterscheidung zwischen dem Editieren von Entwürfen und deren Veröffentlichung zu erreichen.%0a%0a:$EnableDraftAtomicDiff:Wenn diese Variable auf '@@1@@' gesetzt wird, werden durch das Veröffentlichen eines Entwurfes die Entwurfsversionen gelöscht. Es bleibt eine einzige alles zusammenfassende Änderung (diff) übrig zwischen der zuvor veröffentlichten Version und der letzten veröffentlichten Version, dem nun veröffentlichten letzten Entwurf.%0a: :Beachten Sie, dass dadurch auch die Autorennamen, die Daten und die Beiträge der unveröffentlichten Entwurfsversionen gelöscht werden. ([[Drafts]] müssen aktiv sein, siehe $EnableDrafts.)%0a %0a:$EnableGUIButtons:Wenn diese Variable auf '@@1@@' gesetzt wird, werden die grafischen Buttons am oberen Rand der Editierfeldes angezeigt.%25hlt php%25[@%0a## Schalte die grafischen Bearbeiten-Buttons ein:%0a$EnableGUIButtons = 1;@]%0a%0a:$EnableGuiEditFixUrl: Aktiviert einen http://www.pmwiki.org/pmwiki/pub/guiedit/fixurl.png-Button im Editor, der dabei hilft, spezielle Zeichen in URL-Links zu kodieren, siehe Cookbook:GuiButtons. Enthält der Link die Zeichen %3c>"{}|\^`()[]', müssen diese durch ihre [[https://de.wikipedia.org/wiki/URL-Encoding#Relevante_ASCII-Zeichen_in_Prozentdarstellung | Prozentdarstellung]] ersetzt werden.(z.&nbsp;B. '%2520' für ein Leerzeichen, siehe Cookbook:FixURL). $EnableGUIButtons muss dazu aktiviert sein.%25hlt php%25[@%0a## Setze den Button weit nach rechts in der Buttonleiste:%0a$EnableGuiEditFixUrl = 2000;@]%0a%0a:$EnablePreviewChanges:Wenn diese Variable auf '@@1@@' gesetzt wird, zeigt die "Vorschau"-Funktion die hervorgehobenen Änderungen im Wiki-Quelltext vor der erstellten Seitenvorschau. Siehe Cookbook:PreviewChanges. %25hlt php%25[@%0a$EnablePreviewChanges = 1;@]%0a%0a:$EnableListIncludedPages: Wenn diese Variable auf '@@1@@' gesetzt ist, fügt sie in der Bearbeiten-Seite eine Liste mit Seiten ein, die in die bearbeitete Seite eingefügt sind, entweder über ein [[IncludeOtherPages|+]] oder über [[page text variables|+]] (und weitere verschachtelte Seiten und Variablen). Die Liste erscheint in einem zusammengeklappten [[BlockMarkup#details|%25hlt html%25%3cdetails>]][@@]-Element zwischen dem Textbereich und dem 'Zusammenfassung'-Feld.%0a%0a:$EnablePostAuthorRequired:Wenn diese Variable auf '@@1@@' gesetzt wird, erfordert das Bearbeiten von Seiten &ndash; eigentlich erst das Speichern der Seiten &ndash; die Angabe eines Autorennamen. Andernfalls kann ohne einen Namen gearbeitet werden, als Autorenname erscheint dann die IP des Autors.%25hlt php%25[@%0a## Verlange vom Autoren die Angabe eines Namen:%0a$EnablePostAuthorRequired = 1;@]%0a%0a:$EnableUploadAuthorRequired: Diese Variable bestimmt, ob das Hochladen von Dateien die Eingabe des Namen des Hochladenden erfordert (hinzugefügt in 2.2.117). Wenn diese Variable nicht gesetzt ist, wird die Variable $EnablePostAuthorRequired ausgewertet.%0a%0a:$EnableRevUserAgent:Wenn diese Variable auf '@@1@@' gesetzt wird, wird der "User agent"-String des Browsers in den Seitenversionen gespeichert (standardmäßig ist das deaktiviert). Das kann nützlich sein, wenn man Fehler in einer eigenen Applikation aufspüren will, indem man die Dateien in ''wiki.d/'' untersucht.%25hlt php%25[@%0a## Speichere den "User agent" des Browsers in den Seitenversionen:%0a$EnableRevUserAgent = 1;@] %0a%0a:$GUIButtons:Erlaubt die Konfiguration der Schaltflächen, die über dem Eingabefeld erscheinen, wenn man eine Seite bearbeitet. Siehe @@scripts/guiedit.php@@ wegen der Standarddefinition. Beachten Sie, dass das fünfte Element auch HTML-Kode sein kann anstelle des URL einer GIF-Datei &ndash; das erlaubt mehr Flexibilität in der Definition des diesbezüglichen JavaSkripts.%0a%0a:$HandleEditFmt: Wie $HandleBrowseFmt gibt dies das vollständige Ausgabeformat einer Seite für @@?action=edit@@ an. %0a%0a:$IsPagePosted:wird auf einen Wahr-Wert gesetzt, wenn die Seite aktuell gespeichert wurde (das wird z.&nbsp;B. benutzt, um den 'Aktuelle Änderungen'-Behandlern (RecentChanges handlers) zu signalisieren, dass ein Update nötig ist.%0a%0a:$PageEditFmt:ist per Standardeinstellung der HTML-Kode, der als $[Edit]formular angezeigt wird.%0a%0a:$PageEditForm: gibt das $[Edit]formular für die Aktion $[Edit] (?action=edit) an, standardmäßig '$SiteGroup.EditForm'.%0a%0a:$ROEPatterns:Mit diesem Array können Sie Muster als ''Schlüssel'' hinzufügen und Text als ''Wert'' setzen, der das Muster bei jedem Aufruf zum Editieren ersetzt, wobei die %25hlt php%25@@preg_replace()@@-Funktion benutzt wird. Insbesondere werden die Ersetzungen vorgenommen, wenn die Seite in das Editierformular eingefügt wird, wann auch immer eine Vorschau vorgenommen wird und wenn die Seite gespeichert wird. (ab PmWiki 2.2.0beta45). Siehe Cookbook:ROSPatterns für Beispiele.%0a%0a:$ROSPatterns:Mit diesem Array können Sie Muster als ''Schlüssel'' hinzufügen und Text als ''Wert'' setzen, der das Muster  ersetzt, wenn die bearbeitete Seite veröffentlicht wird (geposted wird), wie es durch die Variable $EnablePost signalisiert wird. Das Muster wird weder ersetzt, wenn die Seite in das Editierformular eingefügt wird, noch wenn eine Vorschau vorgenommen wird, sondern nur, wenn die Seite gespeichert wird. Siehe Cookbook:ROSPatterns für Beispiele. %0a%0a:$EnableROSEscape: Wenn diese Variable auf '@@1@@' gesetzt wird, werden die $ROEPatterns- und die $ROSPatterns-Ersetzungen geschützten Text (umgeben von %25pmhlt%25[@[=...=]@] oder @@[=[@...@]=]@@) überspringen. Nicht gesetzt oder auf 0 gesetzt werden die Ersetzungen sogar in geschütztem Text vorgenommen.%0a%0aKategorie: [[!PmWiki Developer]]
time=1684578632
title=Die Bearbeiten-Variablen
