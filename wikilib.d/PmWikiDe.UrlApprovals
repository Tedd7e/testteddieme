version=pmwiki-2.3.5 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=hlt php, http+s (+203)
ctime=1305107173
name=PmWikiDe.UrlApprovals
rev=9
targets=Category.Spam,!Spam,SiteAdmin.ApprovedUrls,PmWikiDe.XLPage,PmWikiDe.IncludeOtherPages,PmWikiDe.PageLists,PmWikiDe.PageTextVariables,Site.AllRecentChanges,PmWikiDe.LinkVariables,PmWikiDe.Blocklist,PmWikiDe.Security
text=(:title Url-Freigabe:)%0a(:Summary: Urls werden geprüft und ggf. freigegeben, ein Mittel gegen Link-Spamming :)%0a(:Original_Page: PmWiki.{$Name} :)%0a(:Translation_Date: 2011-05-11:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Autoren (Fortgeschrittene) und Administratoren:)%0a%0a%0aDiese Seite erklärt, wie Sie "Link-Spammer" auf Ihrer Wikisite entmutigen können, indem Sie PmWikis ''urlapproval''.php-Skript verwenden.  %0aDieses Skript ist bereits in den PmWiki-Dateien enthalten, aber es ist in der Standardeinstellung noch nicht aktiviert.%0a%0a!! Der Gebrauch von ''urlapproval.php''%0a%0aGelegentliche [[!Spam]]mer könnten versuchen, in Wikiseiten lange Listen mit (manchmal versteckten) URLs hinzuzufügen, weil sie glauben, dass könnte ihr Suchmaschinenranking erhöhen &mdash; was es [[#nofollow |möglicherweise nicht tut]].%0aDas ''@@urlapproval.php@@''-Skript arbeitet gegen dieser Spammer Absichten durch%0a%0a* Verlangen der Freigabe von URLs zu Internetsites, bevor ein Verweis zu ihnen in dem Wiki gesetzt wird und%0a* die Möglichkeit, die Zahl der nicht freigegebenen Verweise, die einer Seite hinzugefügt werden dürfen, zu begrenzen.%0a %0aUm das ''@@urlapproval.php@@''-Skript zu aktivieren, fügt man die folgende Zeile in die Konfigurationsdatei ein:%0a%0a->%25hlt php%25[@include_once("$FarmD/scripts/urlapprove.php");@]%0a%0aIm Standard wird für die nicht freigegebenen Verweise dargestellt, was halt dargestellt werden sollte (die URL oder ein Text), aber es wird kein Verweis erzeugt, aber gleich dahinter dieses[-%25blue%25(approve links)%25%25-]. %0aEin Klick auf den Verweis gibt alle nicht freigegebenen Verweise auf der Seite frei, %25green%25aber ''nur'', wenn Sie authorisiert sind, die ''SiteAdmin.ApprovedUrls''-Seite zu bearbeiten%25%25.%0aSie können Sites auch im Voraus freigeben, indem Sie sie direkt in die [[SiteAdmin.ApprovedUrls]]-Seite eintragen.%0a%0a%0a!! Begrenzen nicht freigegebener URLs pro Seite%0a%0aMan kann die Zahl der nicht freigegebenen Verweise pro Seite begrenzen. Wenn die Grenze überschritten wird, kann die Seite nicht gespeichert werden. %0aDas ist nützlich, weil Spammer gewöhnlich lange Listen von Verweisen einfügen, was bei normalen Autoren kaum vorkommt.%0a%0aBeispiel: Um die Grenze auf fünf nicht freigegebene Verweise zu setzen, fügt man die folgende Zeile zur Konfigurationsdatei hinzu:%0a%0a->%25hlt php%25[@$UnapprovedLinkCountMax = 5;@]%0a->%25hlt php%25[@include_once('scripts/urlapprove.php');@]%0a%0aAnmerkung: @@$UnapprovedLinkCountMax@@ muss gesetzt werden, ''bevor'' das ''@@urlapproval.php@@''-Skript eingefügt wird.%0a%0a%0a!!Behandlung nicht freigegebener Verweise%0a%0aMan kann auch die Meldung zum Versagen der Freigabe, definiert in der @@$UnapprovedLinkFmt@@-Variablen, ändern. Zum Beispiel:%0a%0a-> %25hlt php%25[@%0ainclude_once('scripts/urlapprove.php');%0a$UnapprovedLinkFmt =%0a "[$[Link requires approval]]%3ca class='apprlink'%0a  href='\$PageUrl?action=approvesites'>$[(approve)]%3c/a>";%0a@]%0a%0a"Link requires approval" ist dabei der Text, der anstelle des nicht freigegebenen Verweises erscheinen soll und "approve" der blaue Text. %0aDieses Feature zu nutzen kann sich als nützlich erweisen, wenn man den nicht freigegebenen Verweis verbergen möchte.%0a%0a->[-Anmerkung: [=$[Link requires approval]=] ist ein Platzhalter, der durch den entsprechenden Text in der [[XLPage]] ersetzt wird. Das Gleiche gilt für [=$[approval]=]. Möglicherweise aber fehlen die dazu passenden Einträge noch.-]%0a%0aUm nicht freigegebene Verweise total zu verbieten, benutzen Sie dies:%0a%0a->%25hlt php%25[@$UnapprovedLinkFmt = "%3cb>external link not allowed%3c/b>";@]%0a%0a%0a!!! SideBar, Headers, Footers, eingefügte Seiten oder Abschnitte [[#sidebar]] [[#included]]%0a%0aBedenken Sie, dass Sie im Allgemeinen in die SideBar-, Header- oder Footer-Seite gehen müssen, wenn Sie Verweise darin freigeben wollen. Wenn Seiten oder Abschnitte mit nicht freigegebenen Verweisen in andere Seiten [[IncludeOtherPages|eingefügt]] werden oder mittels [[PageLists|Seitenlisten]] oder einer [[PageTextVariables|SeitenTextVariable]] übertragen werden, müssten Sie die Verweise in den Originalseiten freigeben. Das liegt daran, dass der Freigabe-Mechanismus Verweise nur in der ''aktuellen'' Seite freigibt.%0a%0a%0a!!! Anfängliche Aktivierung%0a%0aNach der anfänglichen Aktivierung ist kein Verweise freigegeben. Man muss also alle Seiten einmal besuchen und alle Verweise darin freigeben, wo das nötig ist. Siehe [[Site/AllRecentChanges]] wegen einer Liste aller Seiten, die in der Wikisite angelegt worden sind.%0a%0a%0a!! Passwort zur Freigabe von URLs%0a%0aUm externe Verweise freigeben zu können, braucht man das Bearbeiten-Recht für die [[SiteAdmin.ApprovedUrls]]-Seite.%0a%0a%0a!! Technische Tipps%0a[[#whiteurls]]%0a%0a%0a!!! URL Whitelist%0a%0aURLs können auch freigegeben werden, indem man sie in eine "Whitelist" einträgt, die in der Variablen @@$WhiteUrlPatterns@@ definiert wird, die in die ''@@local/config.php@@''-Datei eingetragen wird).%0a%0a-> %25hlt php%25[@%0a$WhiteUrlPatterns =%0a  "(https://example.com|https://example.net|https://example.org|https://beispiel.de)";%0a@]%0a%0aUm alle URLs von sagen wir Neuseeland und Australien hinzuzufügen, benutzt man:%0a%0a-> %25hlt php%25[@%0a$WhiteUrlPatterns[] = 'https://[^/]+\\.nz';%0a$WhiteUrlPatterns[] = 'https://[^/]+\\.au';%0a@]%0a%0a%0a!!! Seitennamen für freigegebene URLs ändern%0a%0aWenn man den Standardnamen für die Seite mit den freigegebenen Verweisen ''SiteAdmin.ApprovedUrls'' ändern möchten, setzt man das Folgende in ''local/config.php'':%0a%0a-> %25hlt php%25[@$ApprovedUrlPagesFmt = array('OtherGroup.OtherName');@]%0a%0a%0a!!! Vorschau auf die nicht freigegebenen Verweise%0a%0aWenn man sehen möchte, welcher Verweis freizugeben ist ohne die Seite zu bearbeiten, kann ein Tooltip angezeigt werden, der erscheint, wenn man mit der Maus über den den [-%25blue%25(approve links)%25%25-]-Verweis geht, und der den URL anzeigt, z. B. [[https://uuu.example.com|Example]].%0a%0aMan fügt die folgende Einstellung in die ''@@local/config.php@@''-Datei ein:%0a%0a-> %25hlt php%25[@%0a$UnapprovedLinkFmt =%0a  "\$LinkText%3ca class='apprlink' href='\$PageUrl?action=approvesites'%0a   title='\$LinkUrl'>$[(approve links)]%3c/a>";%0a@]%0a%0aManche Browser zeigen nur den Verweis und nicht den Tooltiptitle, in dem Falle kann man den folgenden Kode einsetzen, um den nichtgeprüften Verweis am Ende des Tooltips zu sehen. %0a%0a-> %25hlt php%25[@$UnapprovedLinkFmt =%0a  "\$LinkText%3ca class='apprlink' href='\$PageUrl?action=approvesites&XES_url=\$LinkUrl'%0a   title='\$LinkUrl'>$[(approve sites)]%3c/a>";%0a@]%0a%0a!! Über rel='nofollow' [[#nofollow]]%0a%0aIm Standard erzeugt PmWiki externe Verweise, denen Suchmaschinen nicht folgen.%0aHier sind die Releasenotes von PmWiki 2.2.9beata20 (30-Jan-2005) (übersetzt):%0a%0a->'' Zuerst ist die @@$UrlLinkFmt@@-Variable modifiziert worden, so dass Verweise zu extenen URLs automatisch ein rel='nofollow'-Attribut eingefügt bekommen, um zu helfen, Wiki-Spam zu bekämpfen wie er in [[https://googleblog.blogspot.com/2005/01/preventing-comment-spam.html]] beschrieben wird. Site Administratoren können @@$UrlLinkFmt@@ und @@$UnapprovedLinkFmt@@ anpassen, um rel='nofollow' wie gewünscht zu unterstützen oder wegzulassen.  %0a%0a!! Siehe auch%0a%0a* [[PmWikiDe/Blocklist]] - {Blocklist$:Summary} %0a* [[PmWikiDe/Security]] - {Security$:Summary} %0a
time=1653722021
title=Url-Freigabe
