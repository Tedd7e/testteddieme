version=pmwiki-2.2.30 ordered=1 urlencoded=1
author=rigo
charset=UTF-8
csum=Titolo e audience
ctime=1201376754
name=PmWikiIt.IncludeOtherPages
rev=4
targets=PmWikiIt.Links,PmWikiIt.WikiGroup,PmWikiIt.ConditionalMarkup,PmWikiIt.PageTextVariables,PmWiki.PageVariables,Profiles.Pm,Site.PageListTemplates,PmWiki.PageTextVariables,PmWikiIt.WikiStyles,PmWikiIt.DocumentationIndex,PmWikiIt.WikiAdministrator
text=(:title Includere altre pagine:)%0a(:Summary: Come includere il contenuto di altre pagine wiki:)%0a%25audience%25 autori (intermedio)%0aLa direttiva [@(:include:)@] permette di inserire il contenuto di altre pagine in quella corrente.  Tutte le direttive riportate di seguito includono il codice delle pagine, tale e quale.  In particolare, tutti i [[links|collegamenti]] nella pagina inclusa vengono riferiti al [[WikiGroup]] attuale, se non viene specificato altrimenti.%0a%0a!! Sintassi di base%0a%0a* [=(:include NomePagina:)=] %0a->include la pagina "NomePagina" che si trova nello stesso gruppo.%0a* [={Gruppo/NomePagina$:=][[#includeptv|PTVar]]}%0a->include una variabile nominata nella pagina.%0a* [=(:=]include [[#includefullname|FullName]]#[[#incluceanchor|fromanchor]]#[[#includeanchor|toanchor]]%0a  [[#includelines|lines]]=''123'' \%0a  [[#includeself|self]]=''0''  \%0a  [[#includebasepage|basepage]]=''abc'' \%0a  :)%0a->include una pagina seguendo i parametri indicati (opzionali).%0a%0a%0a-%3c%25green%25Note%25font-size:small%25: Il [[Conditional Markup|+]] non funziona con l'inclusione di altre pagine, oppure le [[Page Text Variables|+]].  Le variabili nel testo della pagina, infatti, non rispettano la direttiva [@(:if:)@]. Perciò, se si include una sezione: [@(:include OtherPage#section:)@], questa [@[[#section]]@] verrebbe inclusa anche se si trovasse dentro a un costrutto [@(:if:)...(:ifend:)@].%0a%0aQuando si [[Conditional Markup|controllano variabili]] nelle pagine incluse, il contesto, cioè se la pagina include o è inclusa, è importante. Si veda [[PmWiki/PageVariables]] per ulteriori dettagli.%0a%0a%0a!! Parametri%0aI parametri che non sono parole chiave, cioè nomi ed etichette, possono essere ripetuti.%0a%0a!!![[#includefullname]] Pagine%0a-%3c[@(:include NomePagina:)@]%0a-%3c[@(:include Group.NomePagina:)@]%0a-%3c[@(:include NomePagina GroupName.Nomepagina:)@]%0a->Inserisce il testo di un'altra pagina in quella corrente. Si possono specificare più pagine da includere.%0a%0a%0a!!! [[#includeanchor]] Etichette%0a|| width=*%0a||[@(:include PageName#from#to:)@] ||include la parte di ''`PageName'' compresa tra le [[Links#anchors|etichette]] [@[[#from]]@] e [@[[#to]]@]%0a||[@(:include PageName#from#:)@]   ||include la pagina a partire da [@[[#from]]@] fino alla fine%0a||[@(:include PageName##to:)@]     ||include la pagina dall'inizio fino all'etichetta [@[[#to]]@]%0a||[@(:include PageName#from:)@]    ||include tutto ciò che si trova tra [@[[#from]]@] e l'etichetta successiva%0a||[@(:include PageName##:)@]       ||include la pagina dall'inizio fino alla prima etichetta%0a->[-(Gli esempi 2 e 4 potrebbero sembrare anti-intuitivi).-]%0a-> %25note%25 Nota: non inserire spazi tra "#from" e "#to"%0a%0a-%3c[@(:include Page1 Page2 #from#to:)@]%0a->Include la prima pagina disponibile, tra Page1 e Page2. Di tale pagina, viene inclusa soltanto la parte tra le etichette [@[[#from]]@] e [@[[#to]]@]%0a-> %25note%25 Nota: bisogna inserire uno spazio tra "Page2" e "#from#to". Le etichette "#from#to" devono trovarsi in entrambe le pagine, altrimenti la pagina selezionata verrà inclusa per intero.%0a%0a-%3c[@(:include Page1#from1#to1 Page2#from2#to2:)@]%0a->Include la prima pagina disponibile, tra Page1 e Page2. Di tale pagina viene inclusa solo una parte, rispettivamente quella tra le etichette [@[[#from1]]@] e [@[[#to1]]@] per Page1, o quella tra [@[[#from2]]@] e [@[[#to2]]@] per Page2.%0a%0a-%3c%25green%25Nota%25%25: Alcune versioni precedenti di PmWiki permettevano di inserire spazi tra [@#from@] e [@#to@], benché [[~pm]] dicesse che questo non doveva succedere. Le versioni più recenti non permettono più di inserire spazi lì.  Il comportamento precedente può essere richiesto aggiungendo nel file config.php o farmconfig.php:%0a%0a->[@Markup('includeanchors', '%3cinclude', '/(\\(:include.*?#\\w+)\\s+(#\\w+)/', '$1$2');@]%0a%0a%0a!!! [[#includelines]] Lines=%0a-%3c[@(:include PageName lines=10:)@]%0a-%3c[@(:include PageName lines=5..10:)@]%0a-%3c[@(:include PageName lines=5..:)@]%0a->Include le prime 10 righe, quelle tra la 5 e la 10, oppure la 5 e le seguenti, di ''`PageName''. Per "riga" si intende una riga di codice. ''Una riga, quindi, potrebbe essere un intero paragrafo, che venga poi mostrato a schermo su più righe, oppure una riga vuota.''%0a%0a-%3c[@(:include Page1 Page2 Page3 lines=1..5:)@]%0a->Include le prime cinque righe della prima pagina disponibile tra Page1, Page2 e Page3.  (Per includere linee da più pagine, bisogna inserire una direttiva per ciascuna pagina.)%0a%0a%0a!!! [[#includeself]] Self=%0a-%3c[@(:include PageName self=0:)@]%0a->Il parametro @@self@@ può essere impostato a @@0@@ oppure @@1@@. Indica se la direttiva può includere la pagina corrente. Questo parametro è utile se PageName è una variabile, ad es. [@{$Name}@], e si vuole evitare di includere la pagina corrente.%0a%0a%0a!!! [[#includeptv]] [[Page text variables|Variabili nel testo della pagina]]%0a-%3c[@{Group/PageName$:Var}@]%0a->Include i valori di una lista di definizioni presente in una pagina (opzionale), rendendoli [[page text variables|+]]. Questa lista deve essere nella forma ([@:elemento:descrizione@]),  ([@elemento:descrizione@]), oppure ([@(:elemento:descrizione:)@]).%0a%0a!!! [[#includebasepage]] Basepage=%0a%0a-%3c[@(:include PageName basepage=BasePageName:)@]%0a->Include PageName, ma dando la base ''BasePageName'' a tutte le variabili di pagina e ai collegamenti relativi.%0aSe si specifica @@basepage=@@, allora tutti i collegamenti relativi e le variabili di pagina vengono basati sul valore di basepage.%0aQuindi, se si creasse una pagina [@TemplateName@] che contenga:%0a->[@Nome: {$:Name}%0aIndirizzo: {$:Address}@]%0aallora, la direttiva%0a->[@(:include TemplateName basepage=PageName:)@]%0amostrerebbe il contenuto di [@TemplateName@], trattando tutte le variabili di pagina e i collegamenti come relativi a [@PageName@].  %0aIn particolare, i valori di [@{$:Name}@] e [@{$:Address}@] sarebbero presi da [@PageName@]. Questo vale anche per [@{$Title}@] e [@{$LastModifiedBy}@].%0a%0aQuesto assume che sul sito sia abilitato $EnableRelativePageVars, che sarà predefinito per PmWiki 2.2.0. Al momento $EnableRelativePageVars è disabilitato per facilitare l'aggiornamento dalla versione 2.1.x.%0a%0aLo scopo primario è di permettere l'inclusione di pagine in un modo che assomigli alla versione 2.1.x, dove le variabili di pagina e i link sono relativi alla pagina visualizzata al momento.%0aQuesto si ottiene così:%0a->[@(:include SomeOtherPage basepage='' :)@]%0a  oppure%0a->[@(:include SomeOtherPage basepage={*$FullName} :)@]%0a%0aQuesto permette anche a [=GroupHeader and GroupFooter=] di contenere variabili di pagina e collegamenti relativi alla pagina visualizzata, anziché a se stessi:%0a>>pre%3c%3c%0a  ## Impostazione di default di $GroupHeaderFmt%0a  $GroupHeaderFmt = %0a    [='(:include {$Group}.GroupHeader self=0 basepage={*$FullName}:)(:nl:)';=]%0a>>%3c%3c%0a%0aAltrimenti, l'uso di {$Name} all'interno di [=GroupHeader=] mostrerebbe '[=GroupHeader=]' anziché il nome della pagina visualizzata.%0a%0aSi è scoperto che il parametro basepage= è abbastanza generale per essere usato in un engine di template. È possibile creare una pagina che contenga variabili, il cui valore venga letto da un'altra pagina:%0a->[@(:include PaginaTemplate basepage=PaginaConDati :)@]%0a%0aUna singola PaginaTemplate può ovviamente contenere più template, separati da etichette. Così si ottiene una sintassi stranamente simile'^[[#footnote|#]]^' alle pagelist-template:%0a>>pre%3c%3c%0a    [@(:include PaginaTemplate#abc basepage=PaginaDati :)@]%0a    (:include PaginaTemplate#def basepage=PaginaDati :)%0a    (:include PaginaTemplate#xyz basepage=PaginaDati :)%0a>>%3c%3c%0a%0aQuindi [=TemplatePage=] può avere una sintassi del tipo:%0a>>pre%3c%3c%0a    [@%0a    [[#abc]]%0a    ...inserire il template qui...%0a    [[#abcend]]%0a    @]%0a>>%3c%3c%0a%0aed è possibile mostrare [=TemplatePage=] come un template, senza che essa venga interpretata... così come si fa per [[Site.PageListTemplates]].%0a%0a%0a-%3c[[#footnote]]'^[1]^'D'accordo, forse non è così strano: il codice di dei pagelist template di fatto usa la stessa funzione di (:include:) per leggere i template.  Ma è comunque un'analogia utile.%0a%0a!! Vedere anche%0a* [[PmWiki/Page text variables|+]] {PmWiki/PageTextVariables$:Summary}%0a* [[Cookbook:IncludeUrl]] {Cookbook.IncludeUrl$:Summary}%0a%0a!! Nota di stile%0aNormalmente, le pagine e le righe incluse non possono essere distinte dal resto del testo di una pagina. Si possono usare [[wiki styles|+]] per sottolineare visivamente che quel testo è "speciale". Per esempio:%0a%0a(:markup:)%0a%25define=leftborder border-left="2px solid #88f" margin-left="2px" padding="1px 0 3px 10px"%25%0aChe cos'è PmWiki?%0a>>leftborder%3c%3c (:include PmWiki.PmWiki lines=1..4:) %0a>>%3c%3c%0a''Buona giornata!''%0a(:markupend:)%0a%0a!!! Riferimento ai parametri%0a%0aTutti i parametri che vengono passati a una direttiva di inclusione sono accessibili alla pagina inclusa, sotto forma di variabile speciale [@{$$...}@] con lo stesso nome. La pagina inclusa, quindi, può ricevere informazioni da quela che la include.%0a%0a!!! Note%0a* È possibile usare [@(:include My/Page#myanchor lines=4:)@] per iniziare dalla riga [@[[#myanchor]]@] e riportare 4 righe.%0a%0a%25trail%25%3c%3c|[[DocumentationIndex|+]]|>>%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ: Qual è il numero massimo di inclusioni che possono coesistere in una pagina? Sembra che il mio sito non vada oltre 48 inclusioni. ($MaxIncludes)%0a%0aA: Per default, PmWiki imposta un limite di 50 inclusioni per qualunque pagina. Questo serve a impedire cicli infiniti e altre situazioni che potrebbero intasare un server.  Il limite può essere cambiato dal [[wiki administrator|+]] attraverso la variabile $MaxIncludes.%0a
time=1315669968
title=Includere altre pagine
