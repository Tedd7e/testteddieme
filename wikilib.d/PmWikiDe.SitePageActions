version=pmwiki-2.2.145 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=http+s (+13)
ctime=1304149998
name=PmWikiDe.SitePageActions
rev=16
targets=Site.PageActions,PmWikiDe.AvailableActions,Cookbook.Cookbook,PmWikiDe.MarkupMasterIndex,PmWikiDe.BasicEditing,PmWikiDe.WikiStyles,PmWikiDe.LayoutVariables,PmWikiDe.AccessKeys,Site.Preferences,PmWikiDe.Internationalizations,PmWikiDe.Links,PmWikiDe.PageVariables,PmWikiDe.SitePageActions,PmWikiDe.ConditionalMarkup,PmWikiDe.DocumentationIndex,PmWikiDe.PageDirectives,PmWikiDe.MailingLists
text=(:title Seitenaktionen der Site:)%0a(:Summary: Kurze Erläuterung des Einsatzes von Seitenaktionen in Site.PageActions:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2011-05-02:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience:  Autoren (Grundlagen):)%0a%0aDie [[Site.PageActions|Seitenaktionen der Site]][==]-Seite wird als Quelle benutzt, um die  [[https://www.pmwiki.org/wiki/PmWiki/AvailableActions#defaultactions|Standardaktionen von PmWiki]] in der oberen rechten Ecke des Standard-Skins von PmWiki zu zeigen. Das sieh dann so aus:%0a%0a----%0a(:div id="wikicmds" class="float":)%0a(:include Site.PageActions:)%0a(:divend:)%0a[[%3c%3c]]%0a----%0a%0aBeachten Sie, dass es noch viele andere [[available actions|+]] in den [[Cookbook:Cookbook|Kochbüchern]] und PmWikis Diagnosen und Skripten gibt.%0a%0aDie ''Site.PageActions''-Seite nutzt das Zusammenwirken einer ganzen Reihe von PmWiki-Charakteristika. %0a%0aDiese Seite gibt eine kurze Erläuterung der Möglichkeiten, die gewöhnlich in den [[Site.PageActions|Seitenaktionen der Site]] eingesetzt werden und gibt Hinweise darauf, wo weitere Informationen zu finden sind.%0a%0aBeginnen wir mit einem Blick auf den Anfang einer typischen Site.PageAction-Seite, wie sie mit der PmWiki-Version 2.2.25 ausgeliefert wurde. %0a%0a[@%0a* %25item rel=nofollow class=browse accesskey='$[ak_view]'    %25 [[ {*$FullName}               | $[View]    ]]%0a* %25item rel=nofollow class=edit   accesskey='$[ak_edit]'    %25 [[ {*$FullName}?action=edit   | $[Edit]    ]]%0a* %25item rel=nofollow class=diff   accesskey='$[ak_history]' %25 [[ {*$FullName}?action=diff   | $[History] ]]%0a(:if auth upload:)%0a* %25item rel=nofollow class=upload accesskey='$[ak_attach]'  %25 [[ {*$FullName}?action=upload | $[Attach]  ]]%0a(:ifend:)%0a* %25item rel=nofollow class=print  accesskey='$[ak_print]'   %25 [[ {*$FullName}?action=print  | $[Print]   ]]%0a(:if group Site,SiteAdmin,Cookbook,Profiles,PmWiki*:) (:comment delete if and ifend to enable backlinks:)%0a* %25item rel=nofollow class=backlinks accesskey='$[ak_backlinks]'%25 [[{*$Name}?action=search&q=link={*$FullName} | $[Backlinks] ]]%0a(:ifend:)%0a(:if enabled AuthPw:)%0a* %25item rel=nofollow class=logout    accesskey="$[ak_logout]"%25''  [-[[{*$FullName}?action=logout | $[Logout] ]]-]''%0a(:ifend:)%0a@]%0a%0aDas könnte ein bisschen entmutigend wirken, aber wir nähern uns Schritt für Schritt. Beginnen wir damit, die erste Zeile anzusehen und auseinander zunehmen. Das gibt uns auch gute Hinweise, wie denn all die anderen Zeilen funktionieren. %0a%0a!!Liste%0a%0aJede Zeile ist Bestandteil einer ungeordneten [[MarkupMasterIndex#Lists|Liste]], deshalb beginnt sie  mit einem nicht eingerückten Sternchen '*'. Sie können mehr über Listen in der Seite mit den [[Basic Editing|+]] erfahren. %0a%0aPmWiki stellt eine solche ungeordnete Liste gewöhnlich als einem Satz mit 'Knöpfchen' versehener Aufzählungspunkte dar. Sie können aber auch anders in Erscheinung treten, je nach dem Zusammenhang, in dem sie erscheinen. Diese Unterschiede sind in CSS-Regeln festgelegt, die das Aussehen der PmWiki-Oberfläche (Skin) bestimmen.%0a%0aWenn Sie einen Blick auf die Seite [[Site.PageActions|+]] mit der Standard-Oberfläche von PmWiki werfen, sehen Sie, dass die Liste zweimal erscheint, einmal in der Mitte der Seite als normale, senkrechte Aufzählung mit Knöpfchen und einmal rechts oben als waagerechte Aneinanderreihung ohne Knöpfchen. Das wird durch die Tatsache kontrolliert, dass sie dort oben innerhalb einer HTML-%3cdiv>-Umgebung mit der ID 'wikicmds' dargestellt werden und die CSS-Regeln der Standard-Oberfläche setzen Listenelemente in dieser Umgebung eben nebeneinander und unterdrücken die Knöpfchen. %0a%0aSie können den Effekt selbst sichtbar machen, denn PmWiki hat Textauszeichnungen, die es möglich machen, etwas in einer %3cdiv>-Umgebung mit der ID 'wikicmds' darzustellen:%0a(:markup class=horiz :)%0a* test1%0a* test2%0a* test3%0a(:div id=wikicmds:)%0a* test1%0a* test2%0a* test3%0a(:divend:)%0a(:markupend:)%0a%0a!! Stil   %0a%0aDem '[@*@]' folgt in der Zeile ein '[@%25item ... %25@]', das ist ein [[WikiStyles|Wikistil]]. Er wird benutzt, um die Eigenschaften eines gegebenen Ausgabeelements zu bestimmen, wie die Größe oder die Farbe. Standardmäßig wirken sie auf den Text zwischen sich und dem Zeilenende oder einem schließenden '[@%25%25@]', je nachdem, was zuerst kommt. So kann man z.&nbsp;B. [@"dieser %25blue%25Text%25%25 ist blau"@] eingeben und es erscheint als "dieser %25blue%25Text%25%25 ist blau".%0a%0aIn diesem Fall beginnt der Wikistil mit dem Wort '@@item@@', und das bedeutet, der Stil soll auf das gesamte Listenelement wirken, für das dieser Wikistil eingesetzt wird und nicht nur für den Text, der folgt, insbesondere wird hier so ein  HTML-Kode erzeugt %0a%0a->[@%3cli class='edit'>...%3c/li>@]%0a%0aanstatt solcher%0a%0a->[@%3cli>%3cspan class='edit'>...%3c/span>%3c/li>@]%0a%0aDas Setzen des Klassenattributs für die Liste gestattet es, CSS-Eigenschaften auf das Listenelement anzuwenden, passend zur aktuellen Aktion. Um zum Beispiel die aktuelle Aktion mit einem blauen Hintergrund zu versehen, könnte ein Administator dies tun:%0a%0a->@@# das gehört in die Datei ''local/config.php''@@%0a->@@$HTMLStylesFmt[]@@[@ = ' .{$Action} { background-color: blue; }';@]%0a%0aDann würde die ''aktuell'' ausgeführte Aktion blau hinterlegt werden. Wenn Sie also gerade eine Seite bearbeiten (auf englisch 'edit'), wobei PmWiki ein '?action=edit' an den URL der Seite anhängt, wird das Listenelement '$[Edit]' passend zur ('edit'-)-Bearbeiten-Aktion mit einem blauen Hintergrund versehen werden. Das sieht allerdings erbärmlich aus.%0a%0aDie andere Eigenschaft innerhalb des [@%25item ... %25@]-WikiStils ist die '[@accesskey='$[ak_view]'@]'-Anweisung (jetzt geht es wieder um die erste Zeile ganz oben). [[AccessKeys]] sind Tastaturkürzel für Aufgaben, die anderenfalls mit der Maus ausgeführt würden. Sie können an einen Verweis (engl. link) oder ein Formular-Element angeheftet werden, der Wikistil nimmt das, was er zuerst auf der Zeile findet. In diesem Fall  wird es an den Verweis [@[[ {*$FullName} | $[View] ]]@] angeheftet.   %0a%0a!! Tastaturkürzel (Accesskey)%0aEin Tastaturkürzel  kann an verschiedenen Stellen definiert werden, aber im Wesentlichen passiert es in einer Phrasenübersetzung, die dem Modell für die Internationalisierung folgt. PmWikis Tastaturkürzel werden in der Datei @@scripts/prefs.php@@ definiert, können aber an vielen Stellen überschrieben werden, einschließlich Oberflächen (skins), Sprachübersetzungsseiten (XLPage) und sogar durch Browser-Einstellungen (siehe [[Site.Preferences]]). %0a%0aDas [@$[...]@]-Markup definiert die Phrasenübersetzung, die für die Internationalisierung (und Tastaturkürzel, wie oben bemerkt) zuständig ist. In der ersten Zeile der [[Site.PageActions]]-Seite wird es sowohl in [@$[ak_view]@] als auch in [@$[View]@] eingesetzt. [@$[View]@] weist PmWiki an, die Übersetzung von 'View' einzusetzen, im deutschen also '$[View]', der erste Eintrag in der Reihe. Wenn es keine Übersetzung gibt, wird die Phrase innerhalb der eckigen Klammern selbst eingesetzt. [@$[ak_view]@] setzt das Tastaturkürzel ein.%0a%0aMan kann bei der deutschen Oberfläche gut sehen, wie diese Übersetzung arbeitet. In der Aktionsleiste stehen die Wörter 'Anzeigen', 'Bearbeiten', 'Versionen' und 'Druckansicht' für 'View', 'Edit', 'History' und 'Print'. In der Datei [[(https://www.pmwiki.org/wiki/)PmWikiDe.XLPage]] findet sich dazu ein Abschnitt &mdash;   %0a%0a->@@'View' => '$[View]'@@%0a->@@'Edit' => '$[Edit]'@@%0a->@@'History' => '$[History]'@@%0a->@@'Print' => '$[Print]'@@%0a%0a&mdash; in dem diese Übersetzung definiert wird. Wenn Sie [[https://www.pmwiki.org/wiki/PmWikiFr/PmWikiFr|französisch]] oder [[https://www.pmwiki.org/wiki/PmWikiEs/PmWikiEs|spanisch]] können, überzeugen Sie sich, dass das auch mit anderen Sprachen funktioniert. %0a%0aDas macht es sehr einfach für PmWiki, diverse Sprachen zu unterstützen, da ein Rezept-Autor einfach alle übersetzbaren Phrasen     %0ains Innere von [@$[...]@] schreibt und es anderen überlässt, die Übersetzungstabellen zu schreiben, entweder lokal oder in [[(https://)www.pmwiki.org]] zum Nutzen auch anderer. Weitere Informationen zu [@$[...]@] sind verfügbar in [[PmWikiDe/Internationalizations|+]]. %0a%0a!!Verweis (Link)%0aAlles was von der ersten Zeile zu erklären übrig bleibt, ist der [[PmWikiDe.Links|Verweis]] selbst: [@[[@]@@&nbsp;@@[@{*$FullName}@]@@&nbsp;|&nbsp;@@[@$[View]@]@@&nbsp;@@[@]]@]. Verweise sind nicht komplex, aber ausgerechnet dieser hier benutzt gleich zwei der Fähigkeiten von PmWiki, die Übersetzungstabelle und eine [[PageVariables|Seitenvariable]]. Das [@$[View]@] ist schon erklärt und taucht hier in dem Verweistextteil des Verweises auf (rechts vom Pipesymbol&nbsp;'|'), so dass der Verweis als [[[[{*$FullName} |$[View]]] erscheint. %0a%0aDer Linkzielteil (links vom Pipesymbol&nbsp;'|') enthält die [@{*$FullName}@]-Variable. Diese Variable wird ersetzt durch den vollen Namen der Seite, die im Browser gerade angesehen wird, einschließlich Gruppen- und Seitennamen. Für einfaches Ansehen ist das gut genug, denn Seiten-Ansehen ist die Standardaktion, die man mit einer Seite machen kann. Spätere Zeilen enthalten Ziele wie [@{*$FullName}?action=edit@], dieses bedeutet, dass die gerade angesehene Seite bearbeitet werden soll.%0a%0a!!If%0aDamit ist erklärt, was es mit allen diesen '*'-Zeilen auf sich hat. Das lässt noch die [@(:if auth upload:)@]- und [@(:ifend:)@]-Zeilen zu erklären übrig, die zusammen gehören. Die erste beginnt eine Art [[Conditional Markup|+]] und die zweite beendet sie. Das [@(:if Test :)@]-Markup lässt den folgenden Text nur anzeigen, wenn der @@Test@@ erfolgreich verläuft. Der bedingt angezeigte Text endet bei der nächsten [@(:if...:)@]-Anweisung. Statt dessen lässt sich das Ende des bedingten Blocks auch durch ein leeres [@(:ifend:)@] setzen. Der Test, der hier durchgeführt wird, ist '[@auth upload@]'. Das ist nur dann wahr, wenn der Benutzer des Wiki autorisiert ist, Dateien hochzuladen. %0aDadurch wird der Verweis zur Durchführung eines Hochladens nur dann angezeigt, wenn der aktuelle Benutzer das Recht dazu hat.%0a%0aAbhängig vom Sicherheits- und Rechte-Modell einer gegebenen Site ist es nicht ungewöhnlich, viel mehr bedingte Auszeichnungen zu sehen, die zum Beispiel testen, ob ein Benutzer das Bearbeiten-Recht an der augenblicklichen Seite hat. Fehlt dieses Recht, wird die Bearbeiten-Aktion nicht angezeigt. &mdash; Im einfachsten Modell wird das Recht erst abgefragt, wenn man die Aktion beginnt, dort darf man die Aktion also nicht ausblenden. Andererseits spart einem das Ausblenden auch nicht, die Schreibrechte einzurichten, denn jeder kann '?action=edit' an die URL anhängen. Weitere Informationen über die verschiedenen Bedingungen findet sich in der Seite [[Conditional Markup|+]], die generelle Übersicht über alle PmWiki-Dokumentationen finden Sie im [[Documentation Index|+]].%0a%0a!!Gruppen-Seitenaktionen%0aJede Gruppe kann ihre eigene PageActions-Seite haben, nicht nur die Gruppe '''Site'''. Wenn es eine Seite mit dem Namen Group.PageActions gibt, benutzt PmWiki diese Seitenaktionen in der Gruppe 'Group'. Auf die Seitenaktionen der Site-Gruppe fällt PmWiki zurück, wenn die entsprechende Gruppenseite nicht vorhanden ist. Das funktioniert gerade so wie bei den SideBar-Seiten.%0a%0a!!Verbergen von Aktionen%0aWollen Sie die Aktionen in einer Seite nicht angezeigt sehen, fügen Sie in die Seite die Direktive [@(:noaction:)@] ein, siehe die Seitendirektive [[PmWikiDe.PageDirectives#noaction|noaction]]. Alternativ fügen Sie das Folgende in die ''local/Group.Page.php''-Datei ein (wobei 'Group' der Gruppenname und 'Page' der Seitenname ist):%0a->[@SetTmplDisplay('PageActionFmt',0); @]%0a%0aSollen die Aktionen für eine ganze Gruppe verborgen werden, fügen Sie das Folgende in die ''local/Group.php''-Datei ein (wobei 'Group' der Name der Gruppe ist): %0a->[@SetTmplDisplay('PageActionFmt',0); @]%0a%0aHoffentlich hat diese Dokumentation ein wenig Licht ins Dunkle gebracht, wenigsten, was die [[Site.PageActions|+]] angeht. %0aWenn nicht, möchten Sie vielleicht in den [[MailingLists|PmWiki-Mailing-Listen]] Rat suchen.%0a
time=1641308224
title=Seitenaktionen der Site
