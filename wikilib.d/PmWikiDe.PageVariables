version=pmwiki-2.3.13 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=link to variables (+69)
ctime=1205482068
description=Dokumentation der Variablen, die mit einer Seite verbunden sind. 
name=PmWikiDe.PageVariables
rev=90
targets=PmWikiDe.PageVariables,PmWikiDe.Variables,Cookbook.Functions,PmWikiDe.FmtPageName,PmWikiDe.BasicVariables,PmWikiDe.PageTextVariables,Site.PageNotFound,PmWikiDe.IncludeOtherPages,PmWikiDe.PageLists,PmWikiDe.PageListTemplates,PmWikiDe.OtherVariables,PmWikiDe.ConditionalMarkup,Cookbook.HttpVariables,PmWikiDe.MarkupExpressions,PmWikiDe.MarkupMasterIndex,Cookbook.MoreCustomPageVariables,Cookbook.AsSpacedFunctionInUTF-8,Category.PmWikiDeveloper,!PmWikiDeveloper
text=(:title Seitenspezifische Variablen:)%0a(:Summary: Beschreibt die Variablen, die im Zusammenhang mit einer Seite stehen:)%0a(:description  Dokumentation der Variablen, die mit einer Seite verbunden sind. :) %0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2011-04-28:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Autoren (Fortgeschritten), Administratoren (FTP):)%0a%0a[[#desc]]Diese Seite beschreibt die "[[Variables|+]]", die im Zusammenhang mit den Seiten stehen. Seiten-Variablen haben das Format %25pmhlt%25[@{$variable}@], und können im Text der Seite oder für bestimmte Formatierungs-Regeln verwendet werden. Zum Beispiel zeigt "[@{$Group}@]" die aktuelle Gruppe, in der wir uns momentan befinden als "{$Group}".%0a%0aAnmerkung: Verwechseln Sie diese Variablen (die nur in Wikiseiten gesetzt und benutzt werden) nicht mit [[Variables | PHP-Variablen]]. Seitenspezifische Variablen können in PHP mit der [[Cookbook:Functions#PageVar|PageVar()]]-Funktion gelesen werden. %0a%0aBeachten Sie, dass diese Variablen nicht notwendigerweise in PHP-Kode existieren, da sie für Wikiseiten bestimmt sind (immerhin kann man sie in [[FmtPageName]]-Strings nutzen).%0a%0a%25pmhlt%25Es ist auch möglich, Variablen von anderen Seiten anzuzeigen. Dazu stellt man einfach den Seitennamen voran: [@{Seitenname$Variable}@]. Zum Beispiel: "[@{MarkupMasterIndex$Title}@]" zeigt "{MarkupMasterIndex$Title}".%0a%0a!! Standard-Seiten-Variablen%0a%0a[-In der linken Spalte steht der Name der Variablen, in der rechten Spalte steht der Wert dieser Variablen {+für diese Seite: {$FullName}+}-]%0a%0aStandard-Gruppe und -Seite sowie Site-Gruppe%0a(:markup class=horiz:)%0a{$DefaultGroup}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$DefaultName}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$SiteGroup}%0a(:markupend:)%0a->[-Beachten Sie hierzu auch die Ausführungen zu $PagePathFmt, womit man die Startseite für eine Gruppe setzt.-]%0a%0aGruppe, in der sich die Seite befindet%0a(:markup class=horiz:)%0a{$Group}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$Groupspaced}%0a(:markupend:)%0a%0aSeitenname%0a(:markup class=horiz:)%0a{$Name}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$Namespaced}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$FullName}%0a(:markupend:)%0a%0aBasisname der Seite (befreit von vorangestellten oder angehängten Zusätzen, die in [[BasicVariables#BaseNamePatterns|$BaseNamePattern]] definiert wurden%0a(:markup class=horiz:)%0a{$BaseName}%0a(:markupend:)%0a%0aTitel der Website%0a(:markup class=horiz:)%0a{$WikiTitle}%0a(:markupend:)%0a%0aSeitentitel%0a(:markup class=horiz:)%0a{$Title}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$Titlespaced}%0a(:markupend:)%0a%0aInformation über die Homepage in der Gruppe der aktuellen Seite, jeweils der volle Name der Homepage, deren %25pmhlt%25[@{$Name}@], [@{$Title}@] und [@{$Titlespaced}@]%0a(:markup class=horiz:)%0a{$GroupHomePage}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$GroupHomePageName}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$GroupHomePageTitle}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$GroupHomePageTitlespaced}%0a(:markupend:)%0a%0a%25pmhlt%25 Alle anderen Variablen, die von der Gruppenhomepage abgeleitet werden, können mit verschachtelten Markups ausgegeben werden, zum Beispiel: \%0a  [@{{$GroupHomePage}$LastModified}@], [@{{$GroupHomePage}$Description}@].%0a%0aBeschreibung der Seite, die in dem [@(:description:)@]-Markup hinterlegt ist%0a(:markup class=horiz:)%0a{$Description}%0a(:markupend:)%0a->[-Hinweis: In der deutschen Dokumentation ist (zusätzlich) ein [@(:Summary:)@]-Markup eingefügt (siehe [[PageTextVariables]]), das so aufgerufen wird:-]%0a(:markup class=horiz:)%0a{$:Summary}%0a(:markupend:)%0a%0aDatum und Zeit der letzten Änderung, das Format ist in $TimeFmt vorgegeben%0a(:markup class=horiz:)%0a{$LastModified}%0a(:markupend:)%0a%0aDatum und Zeit der letzten Änderung im Unix-Zeitstempel-Format (Sekunden seit 1. Jan. 1970, 00:00 Uhr)%0a(:markup class=horiz:)%0a{$LastModifiedTime}%0a(:markupend:)%0a%0aLetzter Autor der Seite%0a(:markup class=horiz:)%0a{$LastModifiedBy}%0a(:markupend:)%0a%0aIP des letzten Autors, erscheint anstelle des Autors, wenn beim Speichern kein Name angegeben wird%0a(:markup class=horiz:)%0a{$LastModifiedHost}%0a(:markupend:)%0a%0aBeim letzten Speichern angegebene Zusammenfassung%0a(:markup class=horiz:)%0a{$LastModifiedSummary}%0a(:markupend:)%0a%0aURL der Seite%0a(:markup class=horiz:)%0a{$PageUrl}%0a(:markupend:)%0a%0aIn der URL angeforderten Seite, wird von [[Site.PageNotFound]] benutzt%0a(:markup class=horiz:)%0a{$RequestedPage}%0a(:markupend:)%0a%0agerade ausgeführte Aktion (browse, edit, attr, print, ...)%0a(:markup class=horiz:)%0a{$Action}%0a(:markupend:)%0a%0aLese-, Bearbeiten- und Attribute-Berechtigung der Seite%0a(:markup class=horiz:)%0a{$PasswdRead}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$PasswdEdit}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$PasswdAttr}%0a(:markupend:)%0a%0aGruppen für 'Site' und 'SiteAdmin'%0a(:markup class=horiz:)%0a{$SiteGroup}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$SiteAdminGroup}%0a(:markupend:)%0a\\\%0aZusätzlich zu den oben erwähnten Variablen, gibt es noch einige seitenunabhängige Variablen, die durch diese Auszeichnungen erreichbar sind:%0a%0aDer Name der Person, die aktuell mit der Site interagiert (das ist nicht notgedrungen der Autor der Seite, siehe $LastModifiedBy)%0a(:markup class=horiz:)%0a{$Author}%0a(:markupend:)%0a%0aDie aktuell authentifizierte ID %0a(:markup class=horiz:)%0a{$AuthId}%0a(:markupend:)%0a->[-%25red%25Beachten Sie das kleine 'd' in %25%25$AuthId-]%0a%0aAktuell installierte Version von PmWiki und die interne Versionsnummer%0a(:markup class=horiz:)%0a{$Version}%0a(:markupend:)%0a(:markup class=horiz:)%0a{$VersionNum}%0a(:markupend:)%0a%0aDer URL des pmwiki.php-Skripts%0a(:markup class=horiz:)%0a{$ScriptUrl}%0a(:markupend:)%0a%0a[[#specialreferences]]%0a!! Spezielle Verweise%0aVariablen mit einem speziellen Verweismechanismus werden eingesetzt, um die Umgebung der [[Variable(s)]]n näher zu bestimmen, wenn %0a* die Variable (mit ihrer Seite zusammen) in eine andere (Ziel-) Seite [[IncludeOtherPages|eingebunden]] wird, oder wenn%0a* die Variable in einer Sidebar, Kopf- oder Fußzeile verwendet wird. %0a%0aStellt man der Variable ein Sternchen (*) voran, heißt das, der Wert der Variable bezieht sich auf die Zielseite oder die aktuell angezeigte Hauptseite, sonst bezieht sie sich auf die eingefügte Seite. %0a %0a* %25pmhlt%25[@{*$Seiten-Variable}@] - ein vorangestellter Stern (*) - die Variable bezieht sich auf die aktuell angezeigte Seite.\\%0aOhne den Stern hat die Variable den Wert, den sie in der Seite bekommen hat, aus der sie ursprünglich stammt, z. B. der Sidebar, der Kopf- oder der Fußzeile. \\%0aMit dem Stern wird der Wert von der angesehenen Seite zu Verfügung gestellt, selbst wenn das Markup von einer eingebundenen Seite oder von einer Sidebar stammt.%0a* %25pmhlt%25[@{$Seiten-Variable}@] - die Variable bezieht sich auf den Inhalt der referenzierten Seite.%0a* [@{=$Seiten-Variable}@] - wird nur in [[PageLists|Seitenlisten]][==]vorlagen genutzt, um die von jeder der Seiten aus der Seitenliste zur Verfügung gestellte Variable auszugeben.%0a%0a-%3c Siehe auch [[BasicVariables#EnableRelativePageVars|$EnableRelativePageVars]]%0a-%3c Diese speziellen Verweise werden auch beim Erstellen von [[PageTextVariables#specialreferences|+]] und [[PageListTemplates#specialreferences|+]] verwendet.%0a%0aSie können z.&nbsp;B. testen und sichtbar machen, ob eine Seite Teil einer anderen Seite ist, ...%0a(:markup:)%0a(:if ! name {$FullName}:) %0a%25comment%25 Der Name der Seite ist nicht der gleiche wie der Name, aus dessen Quelle dieser Text stammt%0a->[[{$FullName}#anchor | more ...]]%0a(:ifend:)%0a(:markupend:)%0a... oder Bezug nimmt auf die Hauptseite in einer Sidebar, einem Footer oder einem Header%0a(:markup class=horiz:)%0aDiese Seite ist [[{*$FullName}]]%0a(:markupend:)%0a%0a[[#specialreferencesend]]%0a%0a!!Seiten-Variablen-Sicherheit ($authpage)%0a%0aDie Form %25pmhlt%25[@{pagename$variable}@] in einigen [[PageLists|+]] können die Werte der Variablen aus anderen Seiten anzeigen, unabhängig von der Sicherung durch Passworte.%0a%0aWenn die anderen, die aufgerufenen, Seiten passwortgeschützt sind und der Besucher hat keine Leseberechtigung, zeigen die Variablen dennoch normalerweise ihren Wert an, anders als die [[PageTextVariables|+]]. Während die meisten Variablen keine sensiblen Informationen enthalten, könnten einige Variablen doch welche enthalten: $Title, $Description und jene, die mit $LastModified beginnen.%0a%0a%25pmhlt%25Administratoren und Modulentwickler können die sensiblen Seiten-Variablen redifinieren, damit sie die Authentifikation berücksichtigen, indem sie die Variable "$authpage" anstelle von "$page" in der Definition verwenden. Der folgende Schnipsel kann in @@local/config.php@@ hinzugefügt werden &mdash; er überschreibt die möglicherweise sensiblen Definitionen mit den sicheren:%0a%25hlt php%25[@%0aforeach($FmtPV as $k=>$v) {%0a  if(preg_match('/^\\$(Title(spaced)?|LastModified(By|Host|Summary|Time)?|Description)$/', $k))%0a    $FmtPV[$k] = str_replace('$page', '$authpage', $v);%0a}%0a@]%0a%0a[[#custompv]]%0a!! Eigene Variablen%0aSie können benutzerdefinierte Seiten-Variablen als lokale Anpassung hinzufügen. In einer lokalen Konfigurationsdatei (local/config.php) oder in Rezepten aus dem Kochbuch, können diese festgelegt werden. Verwenden Sie dazu die Variable $FmtPV (siehe [[OtherVariables#FmtPV|Sonstige Variablen]]):%0a%0a->%25hlt php%25[@%0a$FmtPV['$VarName'] = "'Definition der Variable'";%0a$FmtPV['$CurrentSkin'] = '$GLOBALS["Skin"]';%0a@]%0a%0aDies definiert eine neue Seiten-Variable namens $CurrentSkin, die in der Seite benutzt werden kann mittels [@{$CurrentSkin}@] (auch für [[Conditional markup|+]]en). Es ist notwendig, einfache Anführungszeichen innerhalb doppelter Anführungszeichen zu verwenden wie es oben gezeigt wird (vorzugsweise so) oder umgekehrt doppelte Anführungszeichen innerhalb einfacher Anführungszeichen so wie ''[@' "dies" '@]''.%0a%0aSie machen eine Zeichenkette zu einer Seiten-Variable, indem Sie sie zum $GLOBALS()-Array hinzufügen.%0a->%25hlt php%25[@%0a## Erstellen einer {$BaseUrl}-Seiten-Variable%0a$GLOBALS['BaseUrl'] = $UrlScheme."://".$_SERVER["HTTP_HOST"]."/Wiki";%0a$FmtPV['$BaseUrl'] = '$GLOBALS["BaseUrl"]';%0a@]%0a%0aSie können die Seiten-Variable auch durch eine Funktion erstellen lassen.%0a%0a->%25hlt php%25[@%0a## Erstellen einer {$BaseUrl}-Seiten-Variable%0afunction BaseUrl() { %0a  global $UrlScheme;%0a  return $UrlScheme."://".$_SERVER['HTTP_HOST']."/Wiki"; %0a}%0a$FmtPV['$BaseUrl'] = 'BaseUrl()';%0a@]%0a%0a%0a>>frame%3c%3c%0aBitte beachten Sie, dass Werte der Elemente von $FmtPV mit eval() ausgewertet werden,  deshalb '''bereinigen Sie stets die Benutzereingaben'''. Das Folgende ist sehr unsicher[=:=]%0a%0a->%25hlt php%25[@$FmtPV['$Var'] = $_REQUEST['Var'];@] %25red%25# höchst unsicher, erlaubt PHP-Kode-Injektion%0a%0a->%25hlt php%25[@$FmtPV['$Var'] = '"'. addslashes($_REQUEST['Var']) . '"';@]%25red%25# höchst unsicher, erlaubt PHP-Kode-Injektion%25%25%0a%0aSiehe im Rezept [[Cookbook:HttpVariables]] nach einem besseren Weg, diese Variablen zu nutzen.%0a>>%3c%3c%0a%0a!!!siehe auch:%0a* [[Variables|+]]           - {Variables$:Summary}%0a* [[PageTextVariables|+]]   - {PageTextVariables$:Summary}%0a* [[FmtPageName|+]]         - {FmtPageName$:Summary}%0a* [[MarkupExpressions|+]]   - {MarkupExpressions$:Summary}, Formatierungsanweisungen können Seitenvariablen verarbeiten %0a* [[MarkupMasterIndex|+]]   - {MarkupMasterIndex$:Summary}%0a%0aIm Kochbuch auf PmWiki.org%0a* [[Cookbook:MoreCustomPageVariables|Eigene Seiten-Variablen]]%0a* [[Cookbook:AsSpacedFunctionInUTF-8|UTF-8-Kompatibilität für [@{$Groupspaced}@], [@{$Namespaced}@] und [@{$Titlespaced}@] ]] (nur für Versionen vor 2.2.0-beta30 nötig)%0a%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ:Gibt es eine Variable wie $LastModified, die aber die Erstellungszeit anzeigt?%0aA:Nein, aber Sie können eine in config.php erzeugen. Zum Beispiel:%0a-->%25hlt php%25[@# add page variable {$PageCreationDate} in format yyyy-mm-dd@]%0a-->%25hlt php%25[@$FmtPV['$PageCreationDate'] = '[[PmWiki/Functions#PSFT|PSFT]]("[=%25Y-%25m-%25d=]", $page["ctime"])';@]%0a%0a->Wenn Sie lieber das in config.php definierte Format erhalten möchten, benutzen Sie:%0a-->%25hlt php%25[@ $FmtPV['$Created'] =  "[[PmWiki/Functions#PSFT|PSFT]](\$GLOBALS['TimeFmt'], \$page['ctime'])";@]%0a%0aQ: Wie kann ich testen, ob ein Variable gesetzt ist und/oder nicht leer?%0aA: Benutzen Sie %25pmhlt%25[@ [=(:if ! equal "{$Variable}" "":) $Variable ist nicht leer. (:ifend:)=]@]. Beachten Sie, dass nicht definierte oder nicht existierende Variablen als leere Variablen erscheinen.%0a[[#faqend]]%0a>>%3c%3c%0a%0aCategories: [[!PmWiki Developer]]
time=1666592415
title=Seitenspezifische Variablen
