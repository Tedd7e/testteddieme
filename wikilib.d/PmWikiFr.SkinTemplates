version=pmwiki-2.2.33 ordered=1 urlencoded=1
author=farvardin
charset=UTF-8
csum=typo 
ctime=1144953087
description=Format des fichiers - modèles qui constituent l'enveloppe du site Wiki
name=PmWikiFr.SkinTemplates
rev=16
targets=PmWikiFr.Skins,PmWikiFr.PageDirectives,PmWikiFr.Internationalizations,PmWikiFr.DocumentationIndex
text=(:title Modèles de thèmes:)(:description Format des fichiers - modèles qui constituent l'enveloppe du site Wiki:)%0a%25vert%25 Traduction à compléter%0a%0aCette page décrit le format des fichiers modèles de thème (.tmpl) qui sont utilisés pour créer les thèmes PmWiki ('skins'). Comme décrit dans la page [[skins|+]], un thème est une collection de fichiers qui définit l'aspect des pages PmWiki. Chaque thème doit inclure un fichier modèle qui fournit le squelette d'affichage d'une page PmWiki page.%0a%0a!!Format du fichier de modèle%0a%0aUn fichier de modèle est essentiellement un fichier HTML qui contient des substitutions de variables (indiquées par '$') et des directives spéciales incorporées dans les commentaires HTML. Deux directives spéciales sont ''requises'' dans le fichier de modèle.  La directive [@%3c!--PageText-->@] appartient à la section %3cbody> du document HTML, et indique à PmWiki où le contenu principal de chaque page wiki doit être placé. L'autre directive indispensable est [@%3c!--HeaderText-->@], qui va quelque part dans la section %3chead> du document HTML (généralement vers le haut).%0a%0aQuand PmWiki affiche une page, il remplace les directives et substitutions de variables par les valeurs réelles de la page courante. Par exemple, la directive [@%3c!--PageText-->@] est remplacée par le contenu de la page, et chaque instance de $PageUrl est remplacée par l'adresse url de la page courante.%0a%0aIl y a une longue liste de variables disponibles pour la substitution dans les pages; parmi les plus utiles on trouve:%0a%0a    [@$PageUrl         l'adresse url de la page en cours%0a    $ScriptUrl       la base de l'url vers le script pmwiki.php%0a    $Title           le titre de la page (par ex., "`ModèlesDeThèmes")%0a    $Titlespaced     le titre de la page avec des espaces (par ex., "`Modèles de thèmes"%0a    $Group           le nom du groupe courant (par ex., "`PmWikiFr")%0a    $FullName        le nom complet de la page (par ex., "`PmWikiFr.SkinTemplates")%0a    $LastModified    l'heure de la dernière modification%0a    $PageLogoUrl     l'adresse url du logo du site%0a    $WikiTitle       le titre du site%0a    $SkinDirUrl      l'adresse url du répertoire de thème@]%0a%0aCette dernière variable, $SkinDirUrl, est particulierement utile au thèmes puisqu'elle permet à son createur d'avoir des références aux autres fichiers (tels que des images ou des feuilles de style) présents dans le répertoire du thème sans avoir à connaitre l'url exacte (chemin relatif).%0a%0aLe modèle n'est pas limité à l'utilisation des variables listées ci-dessous; à peu près toute variable PHP globale commençant par une 'M'ajuscule peut être utilisée dans un modèle de thème.%0a%0a!! Directives de thèmes%0a%0aNonobstant les directives requises [@%3c!--PageText-->@] et [@%3c!--HeaderText-->@], PmWiki fournit d'autres directives natives pour générer des pages. Il n'est pas nécessaire d'utiliser ces directives, mais elles peuvent souvent offrir plus de possibilités pour un thème.%0a%0a:[@%3c!--wiki:Main.SomePage-->@]:%0a: :La balise [@%3c!--wiki:Main.SomePage-->@] affiche le contenu de `Main.SomePage. Des $-substitutions sont permises dans les balises, ainsi une balise [@%3c!--wiki:$Group.SomePage-->@] incluera "`SomePage" du groupe en question. %0a%0a: :Si plusieurs pages sont présentes dans une directive, alors seule la première occurence valable est retenue/utilisée. Ainsi [@%3c!--wiki:$Group.SomePage Site.SomePage-->@] affichera le contenu de `SomePage si "$Group" existe sinon `Site.SomePage sera affiché. %0a Pour afficher systématiquement `Site.SomePage, même si $`Group.SomePage existe, utiliser deux directives [@%3c!--wiki:...-->@] consecutives.%0a%0a:[@%3c!--file:somefile.txt-->@]:%0a: :The directive [@%3c!--file:somefile.txt-->@] outputs the contents of another file (on the local filesystem) at the point of the directive.  If the file to be included is a .php script, then the PHP script is executed and its output is sent to the browser.  Like the [@%3c!--wiki:...-->@] directive above, $-substitutions are available to be able to output files based on the current page name or group.%0a%0a:[@%3c!--markup:...-->@]:%0a: :The markup directive processes any text that follows the colon as wiki markup and displays that in the output.  %0a%0a:[@%3c!--function:SomeFunction args-->@]:%0a: :This directive calls a PHP function named "`SomeFunction", passing the current page's name and the text following the function name as arguments.  PHP functions called in this manner are typically defined in a local customization file. Args allows only one argument, which has to be splitted then. [@%3c!--function:SomeFunction arg1 arg2 arg3-->@] generates one parameter "arg1 arg2 arg3". However variables can be used (like $LastModifiedBy).%0a%0a!! Section des pages%0a%0aA template file can designate "sections" that are included or excluded from the output based on [[page directives]] or other criteria.  A section always begins with [@%3c!--Page...Fmt-->@] and continues to the next section, the end of the template file, or [@%3c!--/Page...Fmt-->@].  For example, a template can specify a [@%3c!--PageLeftFmt-->@] section that is excluded from the output whenever the [@(:noleft:)@] directive is encountered in the page's contents.  PmWiki's predefined sections (and their corresponding page directives) are:%0a%0a    [@%3c!--PageHeaderFmt-->          (:noheader:)%0a    %3c!--PageFooterFmt-->          (:nofooter:)%0a    %3c!--PageTitleFmt-->           (:notitle:)%0a    %3c!--PageLeftFmt-->            (:noleft:)%0a    %3c!--PageRightFmt-->           (:noright:)@]%0a%0aLes créateurs de thèmes peuvent définir leurs propres sections et balises, mais pour l'instant tous les noms de sections d'un thème doivent commencer par "Page" et finir par "Fmt". Comme mentionné precédemment vous devez aussi définir ces balises (par exemple dans votre config.php) comme ceci: [@Markup('noVOTRENOM', 'directives',  '/\\(:noVOTRENOM:\\)/ei',  "SetTmplDisplay('PageVOTRENOMFmt',0)");@] (ou VOTRENOM est le nom de votre balise).%0a%0a!! Internationalisation (i18n)%0a%0aLes thèmes peuvent aussi être [[internationalizations|internationalisés]] en utilisant les tags [@$[...]@]. N'importe quelle chaîne de caractères placée à l'intérieur de [@$[...]@] est traitée comme "élément à traduire", une recherche de correspondance sur l'élément est faite dans le fichier de traduction. S'il y a une correspondance, alors elle est affichée, sinon la chaîne de caractères reste affichée telle quelle.%0a%0aPar exemple, la substitution [@$[Edit]@] va afficher la traduction choisie du mot "Edit" si elle existe, sinon elle n'affichera qu' "Edit". Ainsi, le meme thème pourra être utilisé pour plusieurs langues, affichant "Editer" quand la traduction Française est chargée, "Bearbeiten" pour la traduction Allemande, et finalement "Edit" quand aucune traduction n'est disponible.%0a%0a----%0a%25trail%25%3c%3c|[[DocumentationIndex|+]]|>>%0a
time=1317920428
title=Modèles de thèmes
