version=pmwiki-2.2.77 ordered=1 urlencoded=1
author=mcannavo52
charset=UTF-8
csum=
ctime=1435607956
name=PmWikiIt.MarkupExpressions
rev=2
targets=PmWikiIt.PageListTemplates,PmWikiIt.PageLists,PmWikiIt.WikiStyles,PmWikiIt.ConditionalMarkup,PmWikiIt.PageVariables,PmWikiIt.PageTextVariables,Cookbook.MarkupExpressionSamples,Cookbook.MarkupExprPlus
text=(:Title: Espressioni di Markup:)%0a(:Summary: Operazioni di formattazione su stringhe:)%0a(:Audience: authors (advanced):)%0a%0a! Espressioni di Markup%0a%0aQuesto tipo di markup [@{(...)}@] consente l’effettuazione al proprio interno di una quantità di operazioni di formattazione su stringhe. Le operazioni definite in questa ricetta includono ''[[#substr|substr]]'', ''[[#ftime|ftime]]'', ''[[#strlen|strlen]]'', ''[[#rand|rand]]'', ''[[#mod|mod]]'', ''[[#to|toupper / tolower]]'', ''[[#ucfirst|ucfirst]]'', ''[[#ucwords|ucwords]]'', ''[[#pagename|pagename]]'' e ''[[#asspaced|asspaced]]''.%0aLe espressioni di markup possono essere [[#nesting|annidate]], usando il markup [@{(...(...)...)}@].%0a%0a[[#substr]]%0a!! ''substr''%0a%0aL’espressione "substr" estrae una porzione della stringa data. I suoi argomenti sono%0a# La stringa da processare: va sempre racchiusa tra virgolette%0a# La posizione iniziale della sottostringa. I caratteri sono contati in base zero (cioé, il primo carattere viene referenziato come carattere "0")%0a# Il numero di caratteri da estrarre%0a%0a(:markup class="horiz":)%0a {(substr "PmWiki" 2 3)}%0a {(substr "PmWiki" 2)}%0a {(substr "PmWiki" 0 1)}%0a {(substr "PmWiki" 0 -3)}%0a {(substr "PmWiki" -3)}%0a(:markupend:)%0a%0aPer ottenere gli ''n''' ultimi caratteri di una stringa si usi la notazione [@{(substr "string" -n)}@]%0a[[%3c%3c]]%0aPer eliminare gli ultimi ''n''' caratteri di una stringa si usi la notazione [@(substr "string" 0 -n)}@]%0a%0a[[#ftime]]%0a!! ''ftime''%0a%0aLe espressioni "ftime" si usano per formattare date e orari. La forma generica è%0a%0a->[@{(ftime "fmt" "when")}@]%0a->[@{(ftime fmt="fmt" when="when")}@]%0a%0adove ''fmt'' la stringa di formattazione e ''when'' è la data da formattare.  Gli argomenti possono essere passati in un ordine qualsiasi e opzionalmente si possono usare le etichette "fmt=" e "when=".%0a%0aEsempi:%0a(:markup class="horiz":)%0a {(ftime)}%0a {(ftime fmt="%25F %25H:%25M")}%0a {(ftime %25Y)}%0a {(ftime fmt=%25T)}%0a {(ftime when=tomorrow)}%0a {(ftime fmt="%25Y-%25m-%25d" yesterday)}%0a {(ftime "+1 week" %25F)}%0a {(ftime fmt=%25D "+1 month")}%0a {(ftime fmt="%25a%25e %25b" when="next week")}%0a(:markupend:)%0a%0aIl parametro ''fmt'' consiste di quanto viene passato mediante "fmt=", del primo parametro che contiene un carattere '%25', o anche del default del sito. I codici di formattazione sono descritti in %25newwin%25 http://php.net/strftime. Oltre a questi, [='%25F'=] produce date nel formato ISO-8601, e '%25s' produce timestamp Unix.%0aAlcune delle più comuni stringhe di formattazione sono:%0a%0a    [= %25F            =]    # date ISO-8601       "{(ftime %25F)}"%0a    [= %25s            =]    # timestamp Unix      "{(ftime %25s)}"%0a    [= %25H:%25M:%25S      =]    # orario hh:mm:ss     "{(ftime %25H:%25M:%25S)}"%0a    [= %25m/%25d/%25Y      =]    # data mm/dd/yyyy     "{(ftime %25m/%25d/%25Y)}"%0a    [= "%25A, %25B %25d, %25Y" =]  # con parole          "{(ftime "%25A, %25B %25d, %25Y")}"%0a%0aIl parametro ''when'' è in grado di comprendere svariati tipi di %25newwin%25[[http://php.net/manual/en/datetime.formats.php|formati]].  Consiste di quanto viene passato mediante "when=", o della parte rimanente del parametro dopo che si è determinao il parametro format. Alcuni esempi:%0a%0a    2007-04-11            # date ISO-8601%0a    20070411              # date senza caratteri intermedi%0a    2007-03               # mesi%0a    @1176304315           # timestamp Unix (in secondi dal 1-Gen-1970 00:00 UTC)%0a    now                   # data e ora correnti%0a    today                 # oggi alle 00:00:00%0a    yesterday             # ieri alle @ 00:00:00%0a    "next Monday"         # date relative%0a    "last Thursday"       # date relative%0a    "-3 days"             # tre giorni fa%0a    "+2 weeks"            # due settimane ad ora%0a%0a'''Nota:''' Per convertire i timestamp Unix li si '''deve''' dotare del prefisso @, in questo modo, [@"{(ftime "%25A, %25B %25d, %25Y" @1231116927)}"@].%0a%0aIl parametro ''when'' usa la funzione PHP %25newwin%25[[(http://www.php.net/)strtotime]] per convertire le stringhe data conformemente ai [[http://www.gnu.org/software/tar/manual/html_node/Date-input-formats.html|formati di input delle date]] GNU; al momento della scrittura di queste istruzioni vengono supportati solo i formati di data in lingua inglese.%0a%0aSi può usare la variabile $FTimeFmt per modificare il formato di default usato dalla funzione "ftime": quello predefinito in $TimeFmt è $TimeFmt.%0a%0a[[#strlen]]%0a!! ''strlen''%0a%0aL’espressione "strlen" restituisce la lunghezza di una stringa: le va passata come argomento la stringa da misurare.%0a%0a(:markup class="horiz":)%0a {(strlen "{$:Summary}")}%0a(:markupend:)%0a%0a[[#rand]]%0a!! ''rand''%0a%0aL’espressione "rand" restituisce un intero casuale.  Il primo argomento rappresenta il limite inferiore, ed il secondo il limite superiore che il numero restituito può assumere. Se richiamata senza argomenti rand() restituisce un intero pseudo-random compreso tra 0 e RAND_MAX. Se si desidera un numero casuale compreso ta 5 e 15 si usi l’espressione (rand 5 15).%0a%0a(:markup class="horiz":)%0a {(rand)}%0a {(rand 1 99)}%0a(:markupend:)%0a%0a[[#mod]]%0a!! ''mod''%0a%0aL’espressione avanzata "mod" restituisce il modulo (resto) della divisione di due numeri. Può essere usato nei [[PageList templates | Modelli PageList]] avanzati insieme a [@{$$PageCount}@] per inserire del markup in ogni elemento (modulo), per esempio per creare delle righe di colore alternato in una tabella, o per inserirvi interruzioni di riga. (Vedere anche [[PageLists | + ]], [[WikiStyles | + ]] e [[ConditionalMarkup | + ]])%0a%0a(:markup class="horiz":)[@%0a>>comment%3c%3c%0a%25define=bg1 item bgcolor=#f88%25%0a%25define=bg2 item bgcolor=#ff8%25%0a%25define=bg0 item bgcolor=#8f8%25%0a[[#altrows]]%0a* %25bg{(mod {$$PageCount} 3)}%25 {=$Name} ({$$PageCount})%0a[[#altrowsend]]%0a>>%3c%3c%0a(:pagelist fmt=#altrows group=PmWiki count=10:)%0a@]%0a%0a[[#to]]%0a!! ''toupper'' / ''tolower''%0a%0aLe espressioni "toupper" e "tolower" convertono una stringa rispettivamente in maiuscolo e minuscolo: va passata loro come argomento la stringa da convertire.%0a%0a(:markup class="horiz":)%0a {(toupper "{$:Summary}")}%0a {(tolower "{$:Summary}")}%0a(:markupend:)%0a%0a[[#ucfirst]][[#ucwords]]%0a!!''ucfirst'' / ''ucwords''%0a%0aL’espressione "ucfirst" converte in maiuscolo il primo carattere di una stringa specificata,  and "ucwords", the first character of each word: le va passata come argomento la stringa da processare.%0a%0a(:markup class="horiz":)%0a {(ucfirst "{$:Summary}")}%0a {(ucwords "{$:Summary}")}%0a(:markupend:)%0a%0a%0a[[#pagename]]%0a!! ''pagename''%0a%0aL’espressione "pagename" costruisce il nome della pagina a partire dalla stringa specificata come argomento.%0a%0a(:markup class="horiz":)%0a {(pagename "{$:Summary}")}%0a(:markupend:)%0a%0a[[#asspaced]]%0a!! ''asspaced''%0a%0aL’espressione "asspaced" formatta le wikiword: le va passata come argomento la stringa da processare.%0a%0a(:markup class="horiz":)%0a {(asspaced "{$FullName}")}%0a(:markupend:)%0a%0a[[#nesting]]%0a!! Annidamento di espressioni%0a%0aLe espressioni di markup possono essere annidate. Le parentesi graffe vanno omesse nelle espressioni interne::%0a%0a(:markup class="horiz":)%0a {(tolower (substr "Hello World" 2))}%0a(:markupend:)%0a%0a[[#notes]]    %0a!! Note%0a%0a* Nelle versioni di PmWiki fino alla 2.2.33, le espressioni per il trattamento delle stringhe potrebbero non funzionare correttamente con caratteri UTF-8 multibyte. Le versioni più recenti dovrebbero invece comportarsi correttamente.%0a%0a!! Vedere anche:%0a* [[Page variables | + ]], [[Page text variables | + ]]%0a* [[Conditional markup | + ]]%0a* [[Cookbook:MarkupExpressionSamples | + ]] &mdash; '-esempi di espressioni di markup personalizzate-'%0a* [[Cookbook:MarkupExprPlus | + ]]
time=1435608033
