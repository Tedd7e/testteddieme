version=pmwiki-2.3.2 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=hlt php (+132)
ctime=1205338307
name=PmWikiDe.WebFeeds
rev=12
targets=PmWikiDe.RecentChanges,PmWikiDe.MailPosts,PmWikiDe.Notify,PmWikiDe.WikiTrails,Site.AllRecentChanges,Cookbook.Backlinks,PmWikiDe.WikiGroup,PmWikiDe.Categories,PmWikiDe.Seitenlisten,Cookbook.RssFeedDisplay,PmWikiDe.LocalCustomizations,Cookbook.FeedLinks,PmWikiDe.PagelistVariables,Cookbook.PageFeed,Cookbook.CustomRecentChanges,PmWikiDe.LayoutVariables,PITS.01161
text=(:title Web-Feeds:)%0a(:Summary: PmWiki-Inhalte als Web-Feeds:)%0a(:Original_Page: PmWiki.WebFeeds:)%0a(:Translation_Date: 2016-06-08:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren (Fortgeschrittene):)%0a%0aEin Feed ist eine bequeme Möglichkeit, Besucher über Änderung an einer Website benachrichtigen zu lassen. Anstatt also jeden Tag die Seite [[RecentChanges|+]] zu überprüfen, um herauszufinden was sich geändert hat, kann ein Besucher einen [[https://de.wikipedia.org/wiki/Aggregator|Newsaggregator]] nutzen, um schnell zu sehen, welche interessanten Seiten sich auf einer Website geändert haben. Diese Benachrichtigung kann man dann im RSS-fähigen Programm auslesen. Webfeeds erkennt man gewöhnlich an Ausdrücken wie [[https://de.wikipedia.org/wiki/RSS_(Web-Feed)|RSS]], [[https://de.wikipedia.org/wiki/Atom_(Format)|Atom]] und [[https://de.wikipedia.org/wiki/Content-Syndication|Web-Syndication]]. Sie sind auch Grundlage für Podcasts.%0a(Um Benachrichtigungen per E-Mail zu erhalten, sollten Sie sich [[PmWikiDe.MailPosts|+]] / [[notify|+]] ansehen.) %0a%0a!! Wikitrails als Grundlage%0aIn der einfachsten Form basieren Feeds in PmWiki auf [[WikiTrails|+]]n. Benutzen Sie eine Feed-Aktion wie [@?action=rss@] oder [@action=atom@] auf einem Trail, wird ein Web-Feed erzeugt (oft "channel" genannt), wo jede in dem Trail vorkommende Seite ein Item in dem Feed ist. [[RecentChanges|+]][=-=] oder [[Site.AllRecentChanges|+]][=-=]Seiten sind definitiv Trails, somit können Sie jede [[RecentChanges|+]][=-=] oder [[Site.AllRecentChanges|+]][=-=]Seite aus jeder Gruppe und des gesamten Webauftritts als Quelle für den RSS-Feed verwenden. Fügen Sie einfach [@?action=rss@] an den URL einer [[RecentChanges|+]][=-=]Seite an. Wenn Sie zum Beispiel  einen Feed für ''pmwiki.org'' erhalten wollen, benutzen Sie%0a%0a->https://www.pmwiki.org/wiki/Site/AllRecentChanges?action=rss  %0a%0aUnd solange Besucher Seiten bearbeiten können, können Sie auch angepasste Feeds haben, ohne den Administartor um Hilfe bitten zu müssen. Alles was sie tun müssen ist eine Referenzseite der Seitenabfolgen zu erzeugen, die die Seiten enthält, über deren Änderungen sie benachrichtigt werden möchten. Feeds können auch von [[Gruppen -> WikiGroup]], [[Kategorien -> categories]] und %25newwin%25[[Cookbook:Backlinks|Rückverweisen]] erzeugt werden und die Reihenfolge und Anzahl der Items können durch Optionen in dem URL verändert werden. So könnten Sie einen Feed für die ''Skins''-Kategory (sortiert mit den wichtigsten zuerst) abfordern, in dem Sie dies benutzen:  %0a%0a->https://www.pmwiki.org/wiki/Category/Skins?action=rss&order=-time%0a%0aPmWiki ist in der Lage, Feeds in vielen Formaten zu liefern, einschließlich RSS 2.0 ([@?action=rss@]), Atom 1.0 ([@?action=atom@]) und RSS 1.0 ([@?action=rdf@]). Zusätzlich, obwohl es normalerweise nicht als Web-Feed angesehen wird, kann PmWiki Metadateninformationen erzeugen, indem die 'Dublin Core Metadata extensions' benutzt werden ([@?action=dc@]).\\%0aTechnisch gesprochen ist ein Feed ein XML Dokument, das einem zusammenfassenden Format wie RSS oder Atom folgt. Es listet die letzten N Änderungen auf (wobei die Zahl N vom Anbieter des Feeds festgelegt wird) und gibt deren Überschriften zurück. Wenn der Feed-Anbieter es so eingestellt hat, können auch Zusammenfassungen des Inhalts oder sogar der komplette Text der Änderung angezeigt werden.%0a%0a!!Wie liest man PmWiki-Feeds%0a%0a# Man braucht einen [[Feedreader -> https://de.wikipedia.org/wiki/Feedreader#Liste_von_Feedreadern_(Auswahl)]]. Das ist ein Stück Software, mit dem man Feeds lesen kann. Es gibt viele verschiedene RSS-Reader. Manche laufen als eigenständiges Programm auf dem Computer oder als App auf dem Smartphone, andere sind Zusatzprogramme für E-Mail-Programme, Webbrowser oder Newsreader. Wieder andere sind Web-Applikationen, die von jedem mit dem Internet verbundenen Computer aus genutzt werden können. Manche liegen auch irgendwo dazwischen (technisch gesehen Web-Applikationen, allerdings so entwickelt, dass sie auf dem eigenen Rechner laufen). Holen Sie sich den, der Ihnen gefällt.%0a# Abonnieren Sie die gewünschte [[WikiTrails|+]], indem Sie den Feeder mit dem URL versorgen. Hängen Sie @@?action=rss@@ an das Ende der Internetadresse an, die Sie abonnieren möchten. Wenn Sie also die Seite [[Site.AllRecentChanges]] von pmwiki.org abonnieren möchte, tun Sie das mit der Adresse [=https://pmwiki.org/wiki/Site/AllRecentChanges=]@@?action=rss@@ im RSS-Reader.%0a%0a!!Feed-Optionen%0a%0aFügen Sie beliebige der folgenden Optionen an das Ende des PmWiki-Web-Feed-URLs, um dessen Ausgabe zu ändern (im Grunde genommen ist jede [[pagelist->Seitenlisten]]-Option für Web-Feeds einzusetzen):%0a%0a:?count=''n'': Begrenzt den Feed auf ''n'' Einträge (voreingestellt: 10).%0a:?order=-time : Zeigt die jüngsten Einträge zuerst an (voreingestellt: die Reihenfolge im Trail oder nach Namen; in RecentChanges-Seiten ist der Trail bereits nach ''-time'' sortiert).%0a:?trail=''Seite'': Bezieht die Einträge vom Trail in ''Seite'' (voreingestellt: ein Trail der aktuellen Seite).%0a:?group=''Gruppe'': Begrenzt den Feed auf Seiten der ''Gruppe''.%0a:?name=''Seite'': Begrenzt den Feed auf die angegebene ''Seite''.%0a:?link=''Seite'': Erzeugt einen Feed von Seiten, die auf die ''Seite'' verweisen.%0a:?list=normal: Schließe Dinge wie [[RecentChanges|+]], [[Site/AllRecentChanges|+]] etc. aus.%0a%0a%25audience%25 Autoren (Fortgeschrittene)%0a%0a!!PmWiki für Feeds konfigurieren%0a%0aDieser Abschnitt beschreibt, wie Sie Teile eines Wikis aufbereiten, um es in einem Web-Feed zu präsentieren. Es wird nicht beschrieben, wie Sie ein Web-Feed in einer Wiki-Seite darstellen &ndash; siehe dazu Cookbook:RssFeedDisplay.%0a%0aUm eine Web-Feed-Erzeugung für eine Site zu ermöglichen, fügen Sie eine oder mehrere der folgenden Zeilen zu einer Ihrer [[local customizations|+]][=-=]Dateien (z.&nbsp;B. ''local/config.php''-Datei) hinzu:%0a%0a->%25hlt php%25[@%0aif ($action == 'rss') include_once("$FarmD/scripts/feeds.php");%0aif ($action == 'atom') include_once("$FarmD/scripts/feeds.php");%0aif ($action == 'rdf') include_once("$FarmD/scripts/feeds.php");%0aif ($action == 'dc') include_once("$FarmD/scripts/feeds.php");%0a@]%0a%0aOder Sie kombinieren mehrere Feeds in einem einzigen Ausdruck , wobei Sie "||" benutzen, um die Feed-Typen voneinander zu trennen. Wenn Sie z.&nbsp;B. RSS- und Atom-Feeds aktivieren wollen, schreiben Sie:%0a%0a->%25hlt php%25[@%0aif ($action == 'rss'  ||%0a    $action == 'atom' ||%0a    $action == 'rdf'  ||%0a    $action == 'dc') include_once("$FarmD/scripts/feeds.php");%0a@]%0a%0a%0a!! Feed-Inhalt konfigurieren%0aWeb-Feeds sind im höchsten Grade konfigurierbar, neue Elemente können leicht zu Feeds über das $FeedFmt-Array hinzugefügt werden. Elemente in $FeedFmt sehen so aus:%0a%0a->%25hlt php%25[@$FeedFmt['atom']['feed']['rights'] = 'All Rights Reserved';@]%0a%0aDabei korrespondiert der erste Index mit der Aktion (?action=atom), der zweite Index indiziert ein Per-Feed- oder Per-Item-Element und %0ader dritte Index ist der Name des erzeugten Elements. Die obige Einstellung erzeugt demnach ein "%3crights>All Rights Reserved%3c/rights>" in dem Feed für ?action=atom.%0a%0a[[#pitfall1]]%0aWenn der Wert eines Eintrags mit einem '%3c' beginnt, wird ''feed.php'' nicht automatisch ein Tag darumherum hinzufügen. Elemente können auch aufrufbare Funktionen (callable functions) sein, welche aufgerufen werden, um die passenden Ausgabe zu erzeugen. Siehe [[https://blogs.law.harvard.edu/tech/rss | RSS specification]] oder andere Feed-Spezifikationen wegen des möglichen Inhalts der Elemente.%0a%0aSie können auch einen existierenden Eintrag ändern anstatt einen neuen zu erzeugen. Benutzen Sie die folgenden Zeilen, um sicherzustellen, dass Änderungen am Wiki von einigen RSS-Readern aufgenommen werden, die andernfalls "keine Notiz" von der Änderung nehmen würden:%0a%0a->%25hlt php%25[@%0a# Ändere den Verweis-URL, wenn ein Item bearbeitet wird.%0a$FeedFmt['rss']['item']['link'] = '{$PageUrl}?when=$ItemISOTime';%0a$FeedFmt['atom']['item']['link'] =%0a   "%3clink rel=\"alternate\" href=\"{\$PageUrl}?when=\$ItemISOTime\" />\n";%0a@]%0a%0a!!Siehe auch%0a%0a* [[Cookbook:FeedLinks]] - Fügen Sie HTML-%3chead>-Links hinzu für 'auto-discovery' Ihres Feeds.%0a* [[WikiTrails]] - {WikiTrails$:Summary}%0a* Wikipedia: [[https://de.wikipedia.org/wiki/Web-Feed|Web-Feed]], Wikipedia: [[https://de.wikipedia.org/wiki/RSS_(Web-Feed)|RSS]] %0a* Wikipedia: [[https://de.wikipedia.org/wiki/Atom_(Format)|Atom (Format)]]%0a%0a!! FAQ%0a>>faq%3c%3c [[#faq]]%0a%0aQ: Wie füge ich dem Feed-Body Text von der Seite hinzu (ganze Seite oder die ersten X Zeichen)? (Und bitte: KEIN markup)%0a%0a->%25hlt php%25[@function MarkupExcerpt($pagename) {%0a      $page = RetrieveAuthPage($pagename, 'read', false);%0a      return substr(@$page['text'], 0, 200);%0a    }%0a%0a    $FmtPV['$MarkupExcerpt'] = 'MarkupExcerpt($pn)';%0a    $FeedFmt['rss']['item']['description'] = '$MarkupExcerpt';@]%0a%0a%25green%25 Heißt das, wenn ich die Zeit im RSS-Titel und "summary" im RSS-Body einfügen will, muss ich [@FeedFmt@] zweimal wie folgt aufrufen?%0a->%25hlt php%25[@$FeedFmt['rss']['item']['description'] = '$LastSummary'; %0a$FeedFmt['rss']['item']['title'] = '{$Group} / {$Title} @ $ItemISOTime';@]%0a%0a--->From mailing list Feb 13,2007, a response by Pm: Yes%0a%0a%0aQ: Wie nutze ich das RSS-%3cenclosure>-Tag für Podcasting?%0a%0aA: Für Podcasting von mp3-Dateien hängen Sie einfach eine mp3-Datei an die Seite an, und zwar mit dem gleichen Namen wie die Seite (z.&nbsp;B. für eine Seite namens Podcast.Episode4 würden Sie eine Datei namens "Episode4.mp3" an die Seite anhängen). Die Datei wird automatisch durch ?action=rss aufgenommen und als eine Anlage behandelt.%0a%0aDer Satz an möglichen 'enclosures' (Anlagen) ist vom $RSSEnclosureFmt-Array vorgegeben, demnach erlaubt %0a%0a->%25hlt php%25[@$RSSEnclosureFmt = array('{$Name}.mp3', '{$Name}.wma', '{$Name}.ogg');@]%0a%0aPodcasting in mp3-, wma- und ogg-Formaten.%0a%0a%0aQ: [[#AddSummary]] Wie füge ich eine Zusammenfassung ("summary") zum Titel in einem RRS-Feed hinzu (d.&nbsp;h. mit [@?action=rss@])?  %0a%0aA: Fügen Sie diese Zeile in Ihre ''local/config.php''-Datei ein:%0a%0a->%25hlt php%25[@$FeedFmt['rss']['item']['title'] = '{$Group} / {$Title} : $LastModifiedSummary';@]%0a%0a%0aQ: [[#AddDescriptionSummary]] Wie füge ich die Beschreibung ("description") zum Titel und die "summary" zum Body hinzu?%0a%0aA: Fügen Sie diese Zeilen in Ihre ''local/config.php''-Datei ein:%0a%0a->%25hlt php%25[@$FeedFmt['rss']['item']['title'] = '{$Group} / {$Title} : {$Description}';@]%0a->%25hlt php%25[@$FeedFmt['rss']['item']['description'] = '$LastModifiedSummary';@]%0a%0a%0a'''Bemerkungen:'''%0a* Sie müssen diese Zeilen für jeden Typ (atom, rdf,dc), den Sie anbieten wollen, wiederholen. %0a*  Das RSS-'''[@description@]'''-Tag ist nicht äquivalent zu der PmWiki[=-=]''[@$Description@]''-Variable, ungeachtet der verwirrenden Ähnlichkeit.%0a%0a%0aQ: Einige meiner passwortgeschützten Seiten erscheinen nicht im Feed... wie umgehe ich das?%0a%0aA: Pms Antwort auf eine ähnliche Frage in der Newsgroup:%0a%0aBeim letzten Mal, als ich das überprüft habe, hatten RSS und andere Syndication-Protokolle kein wohl etabliertes Interface oder Mechanismen für die Durchführung von Zugriffkontrollen (d.&nbsp;h. Authentifikation). So weit ich weiß, ist das noch immer der Fall.%0a%0aPmWikis Web-Feed-Fähigkeiten ist auf Seitenlisten aufgebaut, so ist es gut möglich, das die $EnablePageListProtect-Option das Erscheinen einer aufgefrischten Seite verhindert. Sie könnten versuchen, $EnablePageListProtect=0; zu setzen und zu schauen, ob die passwortgeschützte Seite erscheint.%0a%0aDie "Kehrseite" zum Setzen der Variablen $EnablePageListProtect auf null ist, dass jeder, der eine Suche in Ihrer Site durchführt, die Existenz der Seiten in dem gesperrten Abschnitt erfährt. Die Seiten wird niemand lesen können, aber sie wissen, sie sind da!%0a%0aSie könnten $EnablePageListProtect nur für ?action=rss auf null setzen:%0a%0a->%25hlt php%25[@ if ($action == 'rss') $EnablePageListProtect = 0;@]%0a%0aDas schränkt die Möglichkeit, geschützte Seiten zu sehen, auf die RSS-Feeds ein. Normale Seitenlisten und Suchergebnisse sehen diese Seiten nicht.%0a%0aLetztlich ist es auch möglich, das Web-Feed so zu konfigurieren, dass es die Authentifikations-Informationen direkt aus dem URL bezieht, wie in %0a%0a    .../Site/AllRecentChanges?action=rss&authpw=secret%0a%0aDer große Nachteil ist, dass das Passwort im Klartext mit jedem RSS-Aufruf durch das Netz wandert und endet darin, dass es in Apaches Access-Logs gespeichert wird. %0a%0aQ: Wie fügt man Feed-Bilder hinzu?%0a%0aA: Fügen Sie diese Zeilen in Ihre ''local/config.php''-Datei ein (das Beispiel ist für [@?action=rss@]):%0a%0a->%25hlt php%25[@%0a$FeedFmt['rss']['feed']['image'] =%0a" %3ctitle>Logo title%3c/title>%0a %3clink>https://example.com/%3c/link>%0a %3curl>https://example.com/images/logo.gif%3c/url>%0a %3cwidth>120%3c/width>%0a %3cheight>60%3c/height>";%0a@]%0a%0a-> %25red%25Vergessen Sie nicht, NICHT mit einem "%3c" zu beginnen (sondern mit einem Leerzeichen), da es sonst kein %3cimage>-Tag darumherum gäbe... siehe [[#pitfall1|hier]].%0a%0a%0aQ: Wie füge ich RRS-News-Feeds in eine PmWiki-Seite ein?%0a%0aA: See [[Cookbook:RssFeedDisplay]].%0a%0a%0aQ: Wie kann ich Standard-Feed-Optionen in einer Konfigurationsdatei setzen anstatt dass ich sie jedesmal in den URL setze?%0a%0aA: Wenn Sie zum Beispiel [@?action=rss@] standardmäßig zu [@?action=rss&group=News&order=-time&count=10@] machen wollen, fügen Sie diese Zeilen in Ihre ''local/config.php''-Datei ein:%0a%0a->%25hlt php%25[@%0a   if ($action == 'rss')%0a     SDVA($_REQUEST, array(%0a       'group' => 'News',%0a       'order' => '-time',%0a       'count' => 10));%0a@]%0a%0a%0aQ: Gibt es Wege, wie Besucher leicht ein Web-Feed abonnieren können?%0a%0aA: In einigen Browser (Mozilla Firefox) können Besucher ein orangenes RSS-Icon in der Adresszeile sehen und abonnieren den Feed, indem sie darauf klicken. Um RSS-Icons zu aktivieren, fügen Sie diese Zeilen in Ihre ''local/config.php''-Datei ein: %0a%0a%25hlt php%25[@%0a$HTMLHeaderFmt['feedlinks'] = '%3clink rel="alternate" type="application/rss+xml" %0a  title="$WikiTitle" href="$ScriptUrl?n=Site.AllRecentChanges&amp;action=rss" />%0a%3clink rel="alternate" type="application/atom+xml" title="$WikiTitle"%0a  href="$ScriptUrl?n=Site.AllRecentChanges&amp;action=atom" />';@]%0a%0aSie können auch einen solchen Verweis zum Beispiel in ihre SideBar setzen: @@[=[[Site.AllRecentChanges?action=atom | Subscribe to feed]]=]@@. %0a%0a%0aQ: Kann ich ein RSS-Feed für einzelne Seiten-Versionen erzeugen?%0a%0aA: See Cookbook:PageFeed.%0a%0a%0aQ: Wie erzeuge ich eine Feed-Seite ähnlich wie RecentChanges oder AllRecentChanges, die aber nur bestimmte Gruppen oder Seiten enthält?%0a%0aA: Siehe Cookbook:CustomRecentChanges. In Kürze: Sie deklarieren eine  $RecentChangesFmt-Variable mit Ihren bevorzugten Feed-Seite und kleiden sie in eine Bedingung Ihrer Wahl ein. Zum Beispiel:%0a%0a%25hlt php%25[@%0a   if (PageVar($pagename, '$Group')!='ForbiddenGroup') {%0a     $RecentChangesFmt['Site.MyFeedPage'] =%0a       '* [[{$FullName}]]  . . . $CurrentTime $[by] $AuthorLink: [=$ChangeSummary=]';%0a   }%0a@]%0a%0a%0aQ: Wie kann ich mein RSS-Feed updaten, um jede Änderung an einer Seite zu zeigen und nicht nur neu erzeugte Seiten?%0a%0aA: Fügen Sie einen einzigartigen GUID-Verweis für jede Änderung in Ihre  ''local/config.php''-Datei ein (siehe PITS-[[PITS:01161|Eintrag]]):%0a%0a%25hlt php%25[@%0a   $FeedFmt['rss']['item']['guid'] = '{$PageUrl}?guid=$ItemISOTime';%0a@]%0a%0aA: Alternativ können Sie die Option für Änderungsüberwachungen erzeugen, indem sie einen Qualifier für RSS-Links hinzufügen. Das erlaubt den Besuchern zwischen Standard-''neue Seiten''-RSS-Feeds und ''neue Änderungen''-RSS-Feeds zu wählen (in PmWiki ist diese Option aktiviert):%0a%0a%25hlt php%25[@%0a   ## For new pages updates: https://example.com/wiki/HomePage?action=rss%0a   ## For edits updates: https://example.com/wiki/HomePage?action=rss&edits=1%0a   if(@$_REQUEST['edits'] && $action == 'rss')%0a     $FeedFmt['rss']['item']['guid'] = '{$PageUrl}?guid=$ItemISOTime';%0a@]%0a%0a>>%3c%3c [[#faqend]]%0a%0a
time=1646120121
title=Web-Feeds
