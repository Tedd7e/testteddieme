version=pmwiki-2.3.15 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=2.3.15 GUI Edit Buttons change (+597)
name=PmWikiDe.Upgrades
rev=43
targets=PmWikiDe.PmWiki,PmWikiDe.UpgradingFromPmWiki1,PmWiki.ReleaseNotes,PmWikiDe.BackupAndRestore,PmWiki.Download,PmWiki.SiteAnalyzer,PmWikiDe.LocalCustomizations,PmWikiDe.Troubleshooting,Site.Site,PmWikiDe.SiteAdmin,PmWikiDe.BasicVariables,PmWikiDe.WikiWord,PmWikiDe.EditVariables,PmWikiDe.Links,PmWikiDe.PageLists,PmWikiDe.SkinTemplates,PmWiki.AuthUser,PmWiki.ChangeLog,PmWikiDe.PageVariables,Site.PageActions,Site.EditForm,Site.PageNotFound,PmWikiDe.LayoutVariables,Cookbook.PageListMultiTargets,PmWikiDe.Functions,PmWikiDe.Version
text=(:title Aktualisierungen:)%0a(:Summary: Umstellung auf neuere Versionen von PmWiki:)%0a(:Original_Page: PmWiki.Upgrades:)%0a(:Translation_Date: 2011-05-15:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren (Fortgeschritten):)%0a%0a[[PmWiki]] erlaubt ein Upgrade, ohne bestehende und angelegte Wikiseiten oder Dateien zu beeinträchtigen.  Für die meisten Upgrades kopiert man einfach die Dateien der neuen Version über die bestehende Installation.%0a%0a%25block bgcolor=#f7f7f7 color=black border='1px solid black' padding=5px%25 '''Anmerkung für PmWiki 1.0-Seiten:''' Das Upgraden von 1.0.x zu 2.0 bedarf mehr als nur das einfache Kopieren der 2.0-Software über die 1.0-Installation. Siehe [[Upgrading from PmWiki 1 | Umstieg von PmWiki V1 auf V2]] für nähere Informationen.%0a%0a[[#gen]]%0a!! Das Upgraden von PmWiki:%0a%0a!!! 1. Lesen der 'release notes'%0aWenn man auf eine neue größere Version umsteigt (eine Version wo sich die zweite Stelle ändert, wie von 0.5.27 zu 0.6.0), dann sollte man sorgfältig die [[PmWiki:ReleaseNotes]] lesen, bevor der Umstieg vollzogen wird. Es ist zu überprüfen, ob bedeutendende Änderungen oder Vorbereitungen vor dem Upgrade nötig sind. Das Upgrade von einer 2.0-Beta-Version ist einfach, ein Blick auf die [[PmWiki:ReleaseNotes]] schadet aber trotzdem nicht.%0a%0a!!! 2. Backup%0aEs ist '''immer''' eine gute Maßnahme, vor dem Beginn der Aktion eine [[PmWikiDe/BackupAndRestore|Sicherungskopie]] der laufenden PmWiki-Installation anzufertigen. Man kann das gesamte Verzeichnis, welches die bestehende Installation beinhaltet, kopieren, oder man sichert zumindest das ''wiki.d/'' Verzeichnis und andere lokale Anpassungsdateien, die angelegt wurden (z.&nbsp;B., ''@@config.php@@'', ''@@localmap.txt@@'', usw.).%0a%0a%0a!!! 3. Herunterladen und entpacken%0aLaden Sie die gewünschte Version von PmWiki von der [[PmWiki:Download | Download-Seite]] herunter. %0a%0aPacken Sie das tar-Image mit @@tar xvfz ''tgzfile''@@ aus, wobei ''tgzfile'' die tar-Datei ist, die Sie vorher heruntergeladen haben. Diese wird ein Verzeichnis @@pmwiki-x.y.z@@ mit der neuen Version der Software erzeugen. Unter Windows benutzen Sie hierfür z.&nbsp;B. das frei erhältliche Programm [[https://www.7-zip.de/|7-Zip]] oder Sie laden die geringfügig größere Datei mit der Endung '@@.zip@@' herunter.%0a%0a!!! 4. Kopieren%0aKopieren Sie die Dateien aus @@pmwiki-x.y.z@@ über die Dateien in Ihrer bestehenden PmWiki-Installation. Wenn zum Beispiel Ihre laufende PmWiki-Installation in einem Verzeichnis namens ''@@pmwiki@@'' liegt, wäre eine Möglichkeit, die neuen Dateien über die existierenden mit folgendem Befehl zu kopieren:%0a%0a->@@cp -a pmwiki-x.y.z/. pmwiki@@%0a%0aBeachten Sie dabei, dass BSD-Systeme keine Option -a für ''cp'' als Befehlszeilen Argument kennen. Das ist aber kein Problem, weil es nur ein Kurzbefehl für ''cp -dpR'' ist. Hier wird also einfach dies statt ''-a'' verwendet.%0a%0aBei einigen [=FreeBSD=]-Servern und 'Mac OS X'-Systemen funktioniert statt dessen:%0a%0a->@@cp -Rpv pmwiki-.x.y.z/. pmwiki@@%0a%0aSie können die Dateien auch mittels eines Programms zum Hochladen von Dateien auf Ihren Server übertragen, z. B. mit [[https://filezilla-project.org/|Filezilla]] oder [[https://winscp.net/eng/docs/lang:de|WinSCP]], wenn Sie mit Windows arbeiten. Möglicherweise haben Sie diese Programme schon zur Installation benutzt.%0a%0a!!! 5. Aktualisieren der Anpassungen und Kochbuch-Rezepte%0aDas ist Alles! Die Basis-Installation von PmWiki ist komplett.%0a%0aUm herauszufinden, welche Kochbuch-Rezepte aktualisiert werden können, benutzen Sie [[PmWiki:Site Analyzer]].%0a%0aSo lange keine Veränderungen am ''@@pmwiki.php@@''-Skript oder in den Dateien in ''@@scripts/@@'' vorgenommen wurden, sollte die PmWiki-Installation einwandfrei laufen! (Änderungen an diesen Dateien sind {+nicht+} empfohlen.)%0a%0a[[Local customizations | Lokale Einstellungen]] sollten in ''@@local/config.php@@'', ''@@pub/css@@'' und ''@@pub/skins/@@''@@IhrSkinName@@ vorgenommen werden.%0a%0a'''Hinweis''': Zusätzliche Tipps sind auf der Seite [[Troubleshooting | +]] zu finden.%0a[[#v21v22]]%0a!! Upgrading von Version 2.1.27 auf 2.2.0%0a%0aZwischen der stabilen Version 2.1.27 und 2.2.0 gibt es einige Neuerungen. Einige von ihnen könnten Anpassungen in lokalen Konfigurationsdateien oder in Wikiseiten nötig machen. Diese sind hier umrissen. Für die vollständige Liste an Änderungen sehen Sie in den [[PmWiki.ReleaseNotes#v220|ReleaseNotes]] nach.%0a%0aWenn Sie von einer 2.2.beta-Version upgraden, könnte Ihr Wiki diese Features bereits enthalten.%0a%0a* Einige Seiten, die früher in der [[Site]].*-Gruppe waren, sind nun in einer separaten lese-geschützten [[SiteAdmin]].*-Gruppe: @@Site.AuthUser@@, @@Site.AuthList@@, @@Site.NotifyList@@, @@Site.Blocklist@@, und @@Site.ApprovedUrls@@. Wenn Sie von einer früheren Version upgraden, wird PmWiki diese Dateien an ihren neuen Ort verschieben, falls das nötig ist (nach einer Bestätigung durch Sie). Wenn eine Site die alte @@Site.*@@-Gruppe für diese Dateien erhalten möchte, setzen Sie einfach @@$SiteAdminGroup = $SiteGroup;@@ in die ''config.php''-Datei.%0a%0a* Um Lesen oder Schreiben in den geschützten Bereichen zu autorisieren, sollte das frühere Passwort @@"nopass"@@ jetzt durch @@"@nopass"@@ ersetzt werden. %0a%0a* [[WikiWord|Wikiworte]] sind nun standardmäßig deaktiviert. Um sie zu reaktivieren, setzen Sie entweder $LinkWikiWords oder $EnableWikiWords auf 1.%0a%0a* Die $ROSPatterns-Variable hat sich geändert &mdash; Ersatzstrings werden nicht länger durch %25hlt php%25@@FmtPageName()@@ geschleust, das muss nun explizit gemacht werden.%0a%0a* [[Links|Seitenverweise]] innerhalb eingefügter Seiten, Sidebars, Headers oder Footers werden nun als relativ zu der Seite behandelt, in der sie geschrieben stehen, anstatt relativ zu der Seite, in der sie durch das Einfügen erscheinen werden. In @@Site.SideBar@@ zum Beispiel setzen Sie immer die Gruppe in einem WikiLink wie %25pmhlt%25[@[[Main/HomePage]]@] oder mit einer Seitenvariablen [@[[{*$Group}/Homepage]]@], weil ein Verweis [@[[HomePage]]@] auf die Seite @@Site.HomePage@@ verweisen wird.%0a%0a%0a* [[PageLists|+]]%0a** Leerzeichen trennen Muster mit Jokerzeichen (wildcard patterns) nicht länger voneinander &mdash; benutzen Sie Kommata.%0a** %25pmhlt%25[@{$PageCount}-, {$GroupCount}- und {$GroupPageCount}-@]Variablen, die in Seitenlistenvorlagen benutzt werden, sind nun [@{$$PageCount}, {$$GroupCount} und {$$GroupPageCount}@].%0a** Die Direktive akzeptiert Parameter von dem URL nicht länger standardmäßig. Um sie zum Akzeptieren solcher Parameter zu bewegen (was in Version 2.2 und früher Standard war), fügen Sie zur %25pmhlt%25[@(:pagelist:)@]-Direktive eine [@request=1@]-Option hinzu.%0a %0a* [[Skin templates]] erfordern nun die %25hlt html%25@@%3c!--HTMLHeader-->@@- und @@%3c!--HTMLFooter-->@@-Direktiven.  %0a%0a* Authentifizierung mittels Active Directory ist nun vereinfacht, siehe [[PmWiki.AuthUser]].%0a%0a%0a[[#v220]]%0a!! Upgrading von Version 2.2.0 auf 2.2.145%0a%0aEinige Neuerungen seit der Version 2.2.0 könnten Änderungen an lokalen Konfigurationsdateien oder an Wikiseiten erforderlich machen. Diese sind hier umrissen. Für die vollständige Liste an Änderungen sehen Sie in den [[PmWiki:ReleaseNotes|ReleaseNotes]] und im [[PmWiki/change log]] nach.%0a%0a* Version 2.2.10: $EnableRelativePageVars wurde geändert, um standardmäßig aktiv zu sein. Das wirkt sich auf [[PageVariables|+]] von eingefügten Seiten, Sidebars, Headers und Footers aus.%0a%0a** Die Form %25pmhlt%25[@{*$var}@] bezieht sich auf die "aktuell betrachtete Seite", wogegen sich [@{$var}@] ohne den Stern auf die physikalische Seite bezieht, in der die Seitenvariable steht.%0a%0a** %25red%25 Seiten, die entworfen wurden, um auf der "aktuell betrachteten Seite" zu funktionieren, sollten %25pmhlt%25[@{*$FullName}@] anstelle von [@{$FullName}@] benutzen.%25%25 Administratoren sollten jegliche selbst angepasste Version der Seiten [[Site.PageActions]], [[Site.EditForm]], [[Site.PageNotFound]], @@SideBar@@-Seiten, $GroupHeaderFmt, $GroupFooterFmt, [[Page lists|+]] in Sidebars, Headers und Footers inspizieren. Siehe [[Page variables#specialreferences|spezielle Referenzen]].%0a%0a** Wenn Ihr Wiki stark auf das frühere Verhalten angewiesen ist, können Sie dahin zurückkehren, siehe $EnableRelativePageVars.%0a%0a* Version 2.2.35: Wichtige Änderung für internationale Wikis: Die %25hlt php%25@@XLPage()@@-Funktion lädt nicht länger 'encoding scripts' wie xlpage-utf-8.php. Wenn Sie upgraden, müssen Sie diese Skripten mittels der ''@@config.php@@''-Datei aufrufen, bevor der Aufruf von  %25hlt php%25@@XLPage()@@ passiert: [@%0a  include_once("scripts/xlpage-utf-8.php"); # wenn Ihr Wiki UTF-8 benutzt%0a  XLPage('bg','PmWikiBg.XLPage'); # (Beispiel für Bulgarien)%0a@]%0a%0a%0a[[#v22v23]]%0a!! Upgrading von Version 2.2.145 auf 2.3.0%0a%0a[[PmWiki:ReleaseNotes#v230|Version 2.3.0]] benötigt PHP 5.3 oder jünger. Die neue Version enthält eine Reihe von neuen Möglichkeiten, von denen einige früher durch Rezepte verwirklicht waren.%0a%0aHier sind die Dinge, die überprüft werden müssen, wenn Sie PmWiki auffrischen:%0a%0a* Wenn Sie früher das Rezept [[(Cookbook:)PageListMultiTargets]] benutzt haben, deaktivieren Sie es bitte, wenn Sie das neue PmWiki installieren. Die gleiche Funktionalität wird nun vom Kern zur Verfügung gestellt.%0a* Für PHP 8.1 wurd die Funktion %25hlt php%25@@strftime()@@ auf unerwünscht (deprecated) gesetzt. PmWiki 2.3.0 stellt eine Ersatzfunktion @@PSFT()@@ zur Verfügung, siehe [[(PmWikiDe.)Functions#PSFT|+]].%0a* Die ''@@Aktuelle Änderungen@@''-Seiten speichern den Zeitstempel jetzt in dem Seitenquelltext in einem leicht veränderten und übertragbaren internationalen Format (leicht zu parsen). Wenn die Seite angezeigt wird, wird das neue Format automatisch auf das augenblickliche Format konvertiert ($TimeFmt), sodass die ''@@Aktuelle Änderungen@@''-Seiten aussehen wie vorher, aber der Quellkode leicht verändert ist. \\%0aWenn sie eigene Einstellungen am $RecentChangesFmt vorgenommen hatten, werden diese erhalten. Wenn Sie keine eigenen Einstellungen hatten, aber das alte Format bevorzugen, fügen Sie das Folgende in die ''@@config.php@@''-Datei ein, um zum alten Format zurückzukehren:  %25hlt php%25[@%0a# revert to pre-2.3.0 RecentChanges%0a$RecentChangesFmt = array(%0a  '$SiteGroup.AllRecentChanges' => %0a    '* [[{$Group}.{$Name}]]  . . . $CurrentTime $[by] $AuthorLink: [=$ChangeSummary=]',%0a  '$Group.RecentChanges' =>%0a    '* [[{$Group}/{$Name}]]  . . . $CurrentTime $[by] $AuthorLink: [=$ChangeSummary=]');%0a@]%0a*  Die Variable $EnableNotSavedWarning ist jetzt per Voreinstellung aktiviert. Fügen Sie  $EnableNotSavedWarning = 0; zur '@@'config.php@@''-Datei hinzu, um sie zu deaktivieren.%0a*  Die eingebaute Inhaltsverzeichnisfunktion ($PmTOC) bekam ihren Stil aufgefrischt, damit lange Unterüberschriften ordentlich eingerückt werden. Insbesondere haben die TOC-Verweise jetzt eine @@display:block@@-Einstellung, sodass es keine Zeilenumbrüche mehr gibt. Wenn Sie früher eigene Stile für PmTOC definiert haben, überarbeiten Sie diese bitte für den Fall, dass diese eine Anpassung benötigen.%0a%0aSiehe auch [[(PmWiki:)Release Notes]] für alle Änderungen zwischen Ihrer früheren und der aktuellen Version.%0a%0aWenn Sie irgendwelche Fragen oder Schwierigkeiten haben, wenden Sie sich an uns (auf englisch). %0a%0a[[#v22v23]]%0a!! Upgrading von Version 2.3.0 auf jüngere Versionen%0a%0a!!! [[PmWiki/ReleaseNotes#v2315|2.3.15]] GUI Edit Buttons change%0aTeile dieser Funktionen wurden neu geschrieben, um 'unsicheres Inline-JavaScript' zu vermeiden. Während die voreingestellten und die meisten selbst erstellten Schaltflächen ohne Änderungen funktionieren sollten, sollten Sie nicht länger einige Zeichen url-encoden müssen wie %25 oder Backslashes (\), Beispiel: %2520 für das Leerzeichen. Wenn Sie solche Schaltflächen haben, müssten Sie deren Deklarationen erneuern, um die Extra-Backslashes zu entfernen. %0a%0a%0a%0a%0a!!FAQ%0a>>faq%3c%3c [[#faq]]%0a%0aQ: Wie kann ich herausfinden, welche Version von PmWiki bei mir läuft?%0aA: Siehe [[Version]] - {Version$:Summary}%0a%0aQ: Wie kann ich eine neue Version von PmWiki testen, ohne die vorige Version zu ändern, die die Besucher benutzen?%0aA: Der leichte Weg, das zu tun, ist, die neue Version in einem separaten Verzeichnis zu installieren und in deren ''@@local/config.php@@''-Datei das Folgende einzufügen:%0a%0a%25hlt php%25[@%0a    $WikiLibDirs = array(&$WikiDir,%0a      new PageStore('/path/to/existing/wiki.d/{$FullName}'),%0a      new PageStore('wikilib.d/{$FullName}'));@]%0a%0aWenn Seiten aufgerufen werden, werden sie (vorausgesetzt, an den Standardnamen wurde nichts geändert)%0ader Reihe nach in ''@@wiki.d@@'', ''@@/path/to/existing/wiki.d/@@'' und ''@@wikilib.d@@'' gesucht. %0aDer erste Fund wird dann geladen. Gespeichert wird das Ergebnis immer in ''wiki.d''.%0a%0aDas lässt Sie die neue Version mit existierenden Seiteninhalten testen, %0aohne Auswirkungen auf die existierende Site und ohne Modifikationen an den Seiten zu riskieren.%0a%0aWenn dann die neue Version offensichtlich genau so gut wie die alte Version funktioniert, ist ein Upgrade der alten Version sicher &mdash; und man weiß um die Änderungen, die an der Konfiguration und an den Seiten gemacht werden müssen.%0a(Natürlich müssen auch alle Rezepte und lokale Anpassungen in der neuen Version installiert werden.)%0a%0aWenn Sie dann irgendwann zufrieden mit der neuen Version sind und alles %0aso zu funktionieren scheint wie in der alten Version, ist es sicher, die alte Version auf die neue umzustellen%0a(und man kennt alle notwendigen Konfigurations- und Seitenänderungen, die gemacht werden müssen.)%0a%0a[[#faqend]]%0a>>%3c%3c%0a
time=1669278382
title=Aktualisierungen
