version=pmwiki-2.2.34 ordered=1 urlencoded=1
author=simkin
charset=UTF-8
csum=Catalan translation.
ctime=1310993081
name=PmWikiCa.PageTextVariables
rev=3
targets=PmWikiCa.Name,PmWikiCa.FullName,PmWikiCa.TextFormattingRules,PmWiki.PageDirectives,PmWikiCa.PageVariables,PmWikiCa.PageListTemplates,PmWikiCa.IncludeOtherPages,PmWikiCa.PageLists,Site.PageListTemplates,Site.LocalTemplates,PmWiki.ConditionalMarkup
text=(:Language:Català:)%0a(:Title Variables de text d'una pàgina:)%0a(:Summary:Variables d'una pàgina que estan disponibles mitjançant marques de pàgina:)%0a>>comment%3c%3c%0a[[#singleline]]%0a[-[[{=$FullName}|+]],-] \%0a[[#singlelineend]]%0a>>%3c%3c%0a%0a>>rframe font-size:smaller noprint clear=right%3c%3c%0a!!!! Taula de continguts%0a* [[#defining | Definició de variables de text d'una pàgina]]%0a* [[#usage | Ús]]%0a** [[#usagesamepage | A la mateixa pàgina]]%0a** [[#usageotherpage | Des d'altres pàgines]]%0a** [[#usageincludedpage | Des de les pàgines incloses]]%0a** [[#pagelists | Amb llistats de pàgines]]%0a** [[#templates | A les plantilles]]%0a** [[#conditionals| Amb sentències condicionals]]%0a** [[#withincode | Dintre de codi]]%0a>>%3c%3c%0a%0aLes variables de text d'una pàgina són variables de tipus cadena que es creen al text d'una pàgina (el que normalment s'edita), i es poden oferir automàticament per a ser incloses a altres pàgines.%0a%0a[[#defining]]%0a!! Definició de Variables de Text d'una Pàgina%0a%0aHi ha tres modes per a definir Variables de Text d'una Pàgina automàticament:%0a%0a* useu una [[TextFormattingRules#DefinitionLists | llista de definicions]] - la sintaxis normal de les llistes de definicions crea una variable de text%0a(:markup caption='Exemple de llista de definicions:' class="horiz":)%0a:Nom: Definició del nom%0a"{$:Nom}"%0a(:markupend:)%0a->Açò crea una nova variable a la qual podem accedir amb [@{$:Nom}@] (esdevenint: "{$:Nom}") a la pàgina.%0a%0a* useu únicament el caràcter de dos punts ([@:@]) com a separador al text%0a(:markup caption='Exemple de separació amb els dos punts:' class="horiz":)%0aCorreu: meu@exemple.com%0a%0a"{$:Correu}"%0a(:markupend:)%0a->Açò crea la variable [@{$:Corre}@] (esdevenint: "{$:Correu}") a la pàgina.%0a%0a* amb el format d'una [[PmWiki/PageDirectives | directiva]] oculta - etiquetes de PmWiki que no es renderitzen a la pàgina, però creen la variable%0a(:markup caption='Exemple de directiva:' class="horiz":)%0a(:Pais: Països Catalans:)%0a"{$:Pais}"%0a(:markupend:)%0a->Açò crea la variable [@{$:Pais}@] (esdevenint: "{$:Pais}") a la pàgina.%0a%0a'''Nota:''' Es desencoratja l'ús de caràcters fora de l'alfabet ASCII, per tant, no s'han d'usar caracters accentuats, la ce trencada, etc.%0a%0a[[#usage]]%0a!! Ús%0a[[#usagesamepage]]%0a!!! Ús a la mateixa pàgina%0a%0aQuan esteu a la mateixa pàgina, podeu accedir a les variables de text mitjançant el format [@{$:Var}@] (mostrat a dalt).%0a%0a[[#specialreferences]]%0a!!! Ús a les capçaleres i els peus de pàgina: referències especials%0a%0aSi voleu que una pàgina del tipus GroupHeader, GroupFooter, SideBar, etc. accedeixi a una variable de text de la pàgina principal, heu d'incloure una informació de referència especial.  %0aPer a referir-vos explícitament a la variable de text de la pàgina que s'està mostrant afegiu un asterisc a l'etiqueta de la variable de text:  [@{*$:Correu}@] a la pàgina GroupFooter o GroupHeader.  %0a(:markup caption='Exemple' class=horiz:)%0a{*$:Ciutat}%0a(:markupend:)%0aPer a incloure una variable de text ''de'' la capçalera o del peu de pàgina vegeu més abaix l'[[#usageotherpage |ús des d'altres pàgines]].%0a-%3c Les referències especials també es poden aplicar a les [[page variables(#specialreferences)|variables de pàgina]] i les [[page list templates(#specialreferences)|plantilles per a llistats de pàgines]].%0a%0a%0a[[#usageotherpage]]%0a!!! Ús des d'altres pàgines%0a%0aSi voleu extreure les dades d'un altra pàgina, useu el format [@{Grup/NomPagina$:Var}@].%0a(:markup caption='Exemple:' class="horiz":)%0aPoble: Alcoi%0a(:Llac:L'estany pudent:)%0a:Muntanya:Penyagolosa%0a%0a->"{PmWikiCa/PageTextVariables$:Poble}"%0a->"{{$FullName}$:Llac}"%0a->"{PmWikiCa/PageTextVariables$:Muntanya}"%0a(:markupend:)%0a%0a[[#usageincludedpage]]%0a!!! Ús des de pàgines incloses%0a%0aLes variables de text d'una pàgina mai s'[[IncludeOtherPages|inclouen]] des de la pàgina font.%0aVegeu dalt l'[[#usageotherpage|ús des d'altres pàgines]] per a fer referència a les variables de text d'altres pàgines.%0a%0a[[#pagelists]]%0a!!! Ús amb llistats de pàgines%0a%0aEls [[Page lists|+]] també poden accedir a les variables de text:%0a(:markup caption='Exemple:' class="horiz":)%0a(:pagelist group=PmWikiCa order=$:Summary count=6 fmt=#singleline:)%0a(:markupend:)%0a%0aI per a crear nous formats de llistats (com els que hi ha documentats a [[Site.Page List Templates]], [[PmWikiCa/Page Lists]], [[PmWikiCa/Page List Templates]], [[PmWikiCa/Page Variables]]. Deseu-los a [[Site.Local Templates]]).%0a%0aEls [[Page lists|+]] també poden usar variables de text d'una pàgina per a seleccionar les pàgines:%0a(:markup caption='Exemple:' class="horiz":)%0a(:pagelist group=PmWiki $:Ciutat=Paris count=8 fmt=#singleline order=-name:)%0a(:markupend:)%0a->llista les pàgines que tenen definida la variable '$:Ciutat' a 'Paris'.%0a%0a(:markup caption='Exemple: seleccions múltiples amb espais' class="horiz":)%0a(:pagelist group=PmWiki $:Ciutat="Addis Ababa,Paris" order=-$:Version count=8 fmt=#singleline:)%0a(:markupend:)%0a->''totes'' les seleccions s'han d'envoltar de 'cometes'.%0a%0a* Quan s'usen les variables de text per a la selecció o ordenació de pàgines, no cal ficar les claus ([@{,}@]) al voltant del nom de la variable. Les claus provoquen la substitució abans que s'avaluï l'ordre per a generar el llistat de pàgines.%0a%0a[[#set]]%0a!!! Provar si la variable està definida o no%0a|| border=0 cellpadding=4 rules=all%0a|| '''=-'''    ||la variable de text està definida (no és buida), p.ex. [@(:pagelist $:Var=- :)@] ||%0a|| '''=-?*'''  ||la variable de text no està definida (és buida), i.e. cap caràcter seguit de 0 o més caràcters, p.ex. [@(:pagelist $:Var=-?* :) @] ||%0a|| '''=*'''    ||mostra ''totes'' les pàgines, sense importar la variable de text (lent) ||%0a|| '''=-*'''   ||''no'' mostres cap pàgina, sense importar la variable de text (lent) ||%0a%0a%0a[-Consell : [@(:if ! equal "{$:PTV}" "":)@] comprovarà si PTV és buida/no-definida o no.-]%0a%0a%0a(:markup caption='Exemple: Pàgines que no tenen definit un resum (summary)' class="horiz":)%0a(:pagelist group=PmWikiCa $:Summary=-?* count=6  fmt=#singleline:)%0a(:markupend:)%0a%0a[[#templates]]%0a!!! Ús de les variables de text a les plantilles%0aMostra les pàgines per la variable de text ''Audience''.%0a(:markup caption='Exemple:' class="horiz":)%0a>>comment%3c%3c%0a[[#byaudience]]%0a(:if ! equal '{=$:Audience}' '{%3c$:Audience}':)%0a-%3c'''{=$:Audience}''':  %0a(:ifend:)%0a[[{=$Name}]]%0a[[#byaudienceend]]%0a>>%3c%3c%0a(:pagelist group=PmWikiCa count=10 fmt=#byaudience order=-$:Audience:)%0a(:markupend:)%0a%0a[[#conditionals]]%0a!!! Ús de variables de text amb [[PmWiki/conditional markup|+]]%0aLes variables de text d'una pàgina s'assignaran/avaluaran '''abans''' que s'avalui cap sentència condicional. Això vol dir que no es pot declarar un variable de text a dintre d'una condició if...else; i també que una variable tindrà un valor tot i haver estat definida dintre d'una sentència condicional [@(:if false:)....(:if:)@].%0a%0a[[#withincode]]%0a!!! Ús - des de dintre de codi (només per a desenvolupadors)%0a%0aLa funció estàndard @@PageVar($pagename,$varname)@@ pot tornar variables de text d'una pàgina, però recordeu incloure els dos punts i el símbol de dolar així:%0a%0a->@@$var=PageVar($pagename,'$:City')@@%0a%0aFunciona llegint totes les variables (de text) que troba a una pàgina (a @@$PCache@@) i tornant la que s'ha demanat.%0a
time=1318582420
title=Variables de text d'una pàgina
