version=pmwiki-2.2.84 ordered=1 urlencoded=1
author=mfwolff
charset=UTF-8
csum=added hint
name=PmWikiDe.UpgradingFromPmWiki1
rev=17
targets=PmWikiDe.WikiAdministrator,PmWikiDe.Upgrades,PmWikiDe.MailingLists,PITS.PITS,PmWikiDe.Installation,PmWikiDe.InitialSetupTasks,PmWikiDe.LocalCustomizations,PmWikiDe.CustomMarkup,Cookbook.Cookbook,PmWikiDe.WikiWord,PITS.NewIssue,PmWikiDe.DocumentationIndex
text=(:title Upgrade von PmWiki 1:)%0a(:Summary: Diese Seite bringt Vorschläge für das Umsteigen von einer laufenden PmWiki 1.x Installation auf PmWiki 2.0.:)%0a(:Original_Page: PmWiki.UpgradingFromPmWiki1:)%0a(:Translation_Date: 2008-03-27:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren:)%0a%0aDiese Seite bringt Vorschläge für das Umsteigen von einer laufenden PmWiki 1.x Installation auf PmWiki 2.0. Es wird hier davon ausgegangen, dass eine vom [[WikiAdministrator|Administrator des Wikis]] eingerichtete Webseite mit PmWiki Version 1.x oder einer noch früheren Version in einer Standardkonfiguration läuft, die unter der Version 2.0 lauffähig gemacht werden soll.%0a%0a->'''Wichtige Anmerkung:''' Das gewöhnliche PmWiki [[Upgrade(s)]]-Verfahren (z. B., das einfache Kopieren der Software über die bestehende) funktioniert nicht, wenn man von 1.x zu 2.0 wechselt. Entweder fängt man mit einer neuen Installation an oder orientiert sich an den unten aufgezählten Umwandlungsvorschlägen.%0a%0aWie üblich können Fragen und Hilfeersuchen an die [[Mailing lists|Mailinglisten]] geschickt werden. Fehler und Schwierigkeiten mit den unten beschriebenen Verfahren können hier verbessert werden, oder man trägt sie in das [[PITS:PITS |PmWiki Issue Tracking System]] ein.%0a%0a!!!Umwandlung%0a%0aDurch den grundlegenden Neuaufbau von PmWiki 2.0, wird es für den [[WikiAdministrator|Administrator des Wikis]] bei der Umwandlung einer Website zu 2.0  höchstwahrscheinlich zu einer ganzen Reihe von Unannehmlichkeiten kommen. Der hier gezeigte Ansatz erlaubt es dem Administrator PmWiki 2.0 zu installieren, zu konfigurieren und mit vorhandenen Seiten zu testen, ohne Schaden an einer vorhandenen 1.x-Installation zu riskieren.%0a%0a-> Sie sollten wissen, dass das Kompatibilitätsskript, das diese Methode benutzt, in PmWiki2.2.0beta43 entfernt wurde. Sie müssen also zuerst PmWiki2.2.0beta42 installieren, um die Migrationsprozedur durchzuführen und '''dann''' zur letzten PmWiki-Version upgraden.%0a%0a'''Schritt 0:''' Es ist &ndash; wie immer &ndash; eine gute Idee, eine Sicherungskopie der laufenden PmWiki 1.x Installation anzufertigen, bevor irgendetwas anderes gemacht wird &ndash das gilt insbesondere für die Dateien in den Verzeichnissen ''local/'' und ''wiki.d/''.%0a%0a'''Schritt 1:''' [[Installation]] von PmWiki 2.0 in ein neues von 1.x getrenntes Verzeichnis.%0a%0a'''Schritt 2:'''  Überprüfen Sie kurz die "PmWiki 2.0"-Installation und überzeugen Sie sich, dass diese richtig funktioniert - d.h. einige Seiten verändern und wieder speichern. Danach entfernen Sie die gerade erzeugten Dateien wieder (aus dem ''wiki.d/''-Verzeichnis von PmWiki 2.0 oder Sie löschen das ganze ''wiki.d/''-Verzeichnis von PmWiki 2.0).%0a%0a'''Schritt 3:''' Fügen Sie folgende Zeilen in die ''local/config.php''-Datei der 2.0 Installation hinzu und ersetzen Sie dabei die Pfadangabe "[@/Pfad/zu/pmwiki1/wiki.d@]" mit dem Pfad zum ''wiki.d/''-Verzeichnis der "PmWiki 1.x"-Installationen auf der eigenen Festplatte.%0a    [=%0a    include_once("$FarmD/scripts/compat1x.php");%0a    UseV1WikiD("/Pfad/zu/pmwiki1/wiki.d");%0a    =]%0aZum Beispiel verwendet meine 2.0-Test-Umwandlung:%0a    [=%0a    include_once("$FarmD/scripts/compat1x.php");%0a    UseV1WikiD("/home/pmichaud/pmwiki/wiki.d");%0a    =]%0a%0a'''Schritt 4:''' Nach obiger Änderung sollten alle existierenden Seiten in der neuen 2.0-Installation auftauchen. Wenn Sie dann auf "Bearbeiten" irgendeiner der vorhandenen Seiten klicken, sollten Sie sehen, dass alle "PmWiki 1.x"-Formatierungsanweisungen (Verweise, usw.) in die für die neue Version gültigen Formatierungsanweisungen umgesetzt wurden.%0a%0aAlle mit der "PmWiki 2.0"-Installation bearbeiteten/gespeicherten Seiten werden getrennt von den Seiten der früheren Installation aufbewahrt. Auf diese Weise kann man ohne Risiko mit dem Bearbeiten und Verändern der Seiten auf der neuen Website experimentieren, ohne die existierende 1.x-Website zu beeinflussen.%0a%0a'''Schritt 5:''' Nachdem alle Seiten in der 2.0-Installation verfügbar sind, können Sie mit dem Rest der 2.0-Webseitenanpassung fortfahren, wie es in den [[Initial setup tasks|ersten Einstellungen]] erklärt ist, und alle gewünschten [[Local customizations|lokalen Anpassungen]] vornehmen. Viele lokale Anpassungen (z. B. Seitenlayout-Vorlagen) unterscheiden sich nicht zwischen Version 1.x und 2.0, andere (z.B. [[Custom markup|Eigene Auszeichnungen]] oder [[Cookbook:Cookbook |Kochbuch-Rezepte]]) müssen für die Version 2.0 angepasst werden.%0a%0a'''Hinweis:''' [[WikiWord | WikiWort]]-Verweise sind ab der Version 2.1beta2 von PmWiki standardmäßig abgeschaltet. Sie können das Verwenden von WikiWörtern entweder aktivieren, indem Sie [@$LinkWikiWords = 1;@] in der ''config.php''-Datei setzen oder Sie konvertieren Ihre WikiWort-Verweise manuell in die neue Standardform mit doppelten eckigen Klammern. Um alte WikiWort-Verweise einfacher zu finden, können sie durch den folgenden Eintrag in config.php farblich hervorgehoben werden:%0a%0a       [=$HTMLStylesFmt['wikiword'] = "%0a       span.wikiword { background:yellow; }%0a       ";=] %0a%0a'''Schritt 6:''' Führen Sie die neue Installation genau so weiter, als würden Sie eine neue PmWiki-Website einrichten. Wenn Sie "PmWiki 1.x"-Formatierungsauszeichnungen finden, die nicht oder falsch umgewandelt worden sind, schreiben Sie bitte einen [[PITS:NewIssue |neuen PITS-Eintrag]], damit das Umwandlungsskript verbessert werden kann.%0a%0a'''Schritt 7:'''  Wenn Sie mit der Umwandlung zufrieden sind und nun alle 1.x-Seiten auf das 2.0-Format bringen wollen, dann sollten Sie den oben beschriebenen [@UseV1WikiD(...)@]-Befehl in der ''local/config.php''-Datei in [@ConvertV1WikiD(...)@] umändern, wie nachfolgend beschrieben:%0a    [=%0a    include_once("$FarmD/scripts/compat1x.php");%0a    ConvertV1WikiD("/Pfad/zu/pmwiki1/wiki.d");%0a    =]%0aWenn das pmwiki.php-Skript dann gestartet wird, erscheinen einige Formulare, die es ermöglichen, einige oder alle 1.x-Seiten in das 2.0-Format umzuwandeln. Nach der Umwandlung können Sie beide Zeilen wieder aus der Konfigurationsdatei entfernen. Nun läuft die "PmWiki 2.0"-Installation völlig eigenständig.%0a%0aWenn Sie lokale Anpassungen vorgenommen haben, für deren korrekte Umwandlung Einträge der Art [@$Compat1x['/match/'] = 'replace';@] erforderlich sind, dann achten Sie darauf, dass diese Einträge ''vor'' dem Aufruf von ConvertV1WikiD gemacht werden.%0a%0aEs ist nicht notwendig, alle Seiten umzuwandeln oder das ''wiki.d/''-Verzeichnis der Version 1.x zu löschen -- PmWiki kann problemlos parallel dazu arbeiten. Außerdem ist es gut, eine Sicherungskopie zu haben.%0a%0a'''Schritt 8:''' Wenn Sie zuversichtlich sind, dass die "PmWiki 2.0"-Website Ihren eigenen Ansprüchen genügend eingerichtet ist, können Sie die alte 1.x-Webseite abschalten und stattdessen die neue 2.0-Webseite nutzen. Wenn Sie feststellen, dass Ihnen die Version 2.0 nicht gefällt, ist die 1.x-Webseite immer noch intakt geblieben und kann weiter verwendet werden.%0a%0a'''Schritt 9:''' Wenn Ihre alte Installation ein Verzeichnis ''uploads/'' hatte, wollen Sie dieses vermutlich an den neuen Ort kopieren oder verschieben.%0a%0a----%0a''Verweise auf externe Seiten''%0a* [[ http://miscellaneous-sonstiges.blogspot.com/2011/01/pmwiki-migration-from-0423-to-221-howto.html | Fix Links in wiki pages from version 0.4.23 to 2.2.1 with UEDIT]]%0a%25comment%25 Der folgende Link ist nur in der deutschen Doku aufgeführt %25%25%0a* siehe auch: %25newwin%25[[http://wikidorf.de/reintechnisch/Inhalt/PmWiki2Konfiguration |PmWiki2 Konfigurationshinweise (Winfried Mueller)]]%0a%0a%25trail%25 %3c%3c|[[DocumentationIndex|Dokumentationsindex]]|>>
time=1458285191
title=Upgrade von PmWiki 1
